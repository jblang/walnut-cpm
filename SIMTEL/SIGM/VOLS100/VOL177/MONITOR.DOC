


                                   MONITOR.ASM

                                   Version 2.3

                                  Gary M. Morin
                                    MTX Corp.
                                941 Ironwood #273
                               Rochester, MI 48063


                                  INTRODUCTION

            MONITOÒ  ió  á systeí monitoò prograí designeä tï siô  uğ  iî 
        higè  memorù  providinç facilitieó foò  performinç  basiã  systeí 
        functions®   Theså   includå  memorù   manipulation¬   Subroutinå 
        execution¬  Heø math¬ porô inpuô anä output® Thå prograí useó thå 
        monitoò  prograí presenteä iî Alaî R®  Miller'ó 8080/Z8° Assemblù 
        Language¬  Techniqueó foò Improveä Programminç aó á baså anä theî         
        addó  thå facilitieó tï makå iô practicaì aó á programminç  tool®         
        Theså  includå  á  helğ facility¬  redirectioî  oæ  outpuô  tï  á         
        printeò  anä gentlå exit®  Iô includeó manù oæ thå facilitieó  oæ         
        DDÔ  oò  SIÄ buô ió smalì anä caî bå alloweä tï residå iî  memorù         
        durinç  thå  wholå debugginç process®  Sincå iô haó itó  owî  I/Ï         
        driveró iô workó welì wheî messinç witè CP/Í itself® 

            Thió prograí alsï workó verù welì witè thå facilitieó oæ ZCPÍ 
        anä  itó  JUMĞ function®  Á programmeò caî jumğ  bacë  anä  fortè 
        betweeî thå monitoò anä thå operatinç systeí usinç thå facilitieó 
        oæ both® 

            Thå  totaì prograí lengtè wheî installeä iî higè memorù  lesó 
        thaî   2ë  anä  caî  easilù  bå  modifieä  duå  tï  itó   modulaò 
        construction.

                                  INSTALLATION

            Versioî 2.´ ió designeä tï ruî oî á Nortè Staò Horizoî witè á 
        freå  "window¢ oæ memorù abovå thå memorù mappeä disë  controlleò 
        aô EC00h® Foò thió typå oæ machinå yoõ caî jusô assemblå thå codå 
        anä  ruî it®  Iæ yoõ desirå thå monitoò tï ruî belo÷ CCĞ oò abovå 
        FDOÓ yoõ wilì havå tï relocatå thå finaì addresseó iî thå  propeò 
        places® Yoõ wilì alsï havå tï assigî thå correcô inpuô anä outpuô 
        portó anä thå statuó bytes.

            Remembeò  thaô programó likå MBASIÃ uså alì oæ thå memorù  uğ 
        tï FDOÓ unlesó specificallù tolä tï dï otherwise®  Theù wilì kilì 
        anù prograí belo÷ CCĞ iæ yoõ don'ô protecô it.

                                    EXECUTION

            Thå monitoò ió evokeä initiallù bù typing:

                MONITOR

        froí  thaô  poinô iæ yoõ havå ZCPÒ installeä yoõ simplù  neeä  tï     Š

                                        1








        jumğ tï thå runninç addresó oæ thå code.

                JUMP F800

        to return to CP/M use the ^C or B commands.



                                    COMMANDS

            The following commands are available in the monitor:

                ASCII LOAD, DUMP -->A[ L  D  S ] [1ST ADR] [2ND ADR]  
                      or SEARCH
                BACK GENTLY      -->B 
                CALL SUBROUTINE  -->C[ADR] 
                DUMP MEMORY      -->D[1ST ADR] [2ND ADR] 
                FILL MEMORY      -->F[1ST ADR] [2ND ADR] [HEX BYTE] 
                                 -->F[1ST ADR] [2ND ADR] ''[ASCII] 
                GO ANYWHERE      -->G[ADR] 
                HEX MATH + -     -->H[1ST HEX] [2ND HEX] 
                INPUT FROM PORT  -->I[PORT NUMBER]
                LOAD MEMORY      -->L[START ADR]
                                    ADR BYTE [NEW BYTE]   ^X HALT
                MOVE MEMORY      -->M[1ST ADR] [2ND ADR] [NEW START]
                OUTPUT TO PORT   -->O[PORT NUMBER] [BYTE]
                PRINTER TOGGLE   -->P
                REPLACE MEMORY   -->R[1ST ADR] [2ND ADR] [TARGET] [BYTE]
                SEARCH FOR BYTE  -->S[1ST ADR] [2ND ADR] [BYTE1] [BYTE2]
                COMMAND TABLE    -->T
                COMPARE BLOCKS   -->V[1ST ADR] [2ND ADR] [1ST ADR BLOCK2]
                DISP STACK POINT -->X

        ASCII LOAD or DUMP
            Typing  AL  transforms the Load command into an ASCII Input.
            see LOAD
            Typing  AD  transforms the Dump command into an ASCII dump.
            see DUMP
            Typing  AS  transforms the Search command into a search for
            one or two ASCII characters.
            see SEARCH

        BACK GENTLY 
            Typing  B  will return you to the command level of CP/M.

        CALL SUBROUTINE 
            Typinç   Ã   followeä bù aî addresó wilì calì  á  subroutinå 
            startinç  aô  thaô  address®  Controì  ió  returneä  tï  thå 
            monitor.

            Example:
            CF800

        DUMP MEMORY 
            Typinç   Ä   followeä bù twï addresseó wilì dumğ thå  memorù Š

                                        2








            between those addresses.

            Example:
            D100 200
            AD100 200

        FILL MEMORY
            Typinç   Æ  followeä bù twï addresseó anä eitheò á heø  bytå 
            oò aî ASCIÉ characteò iî singlå quoteó wilì filì thå  memorù 
            blocë defined by the addresses with the indicated byte.

            Example:
            F100 200 FF
            FF000 F800 '7'

        GO ANYWHERE 
            Typinç  Ç  followeä bù aî addresó causeó aî unconditionaì 
            branch to the code at that location.

            Example:
            G100

        HEX MATH + - 
            Typinç  È  followeä bù twï hexadecimaì numberó wilì generatå 
            two values, the sum and the difference.

            Example:
            H3401 5677

        INPUT FROM PORT
            Typinç   É   followeä  bù  á  porô  numbeò  wilì  displaù  á 
            character retrieved from that port on the screen

            Example:
            I02

        LOAD MEMORY
            Typinç   Ì  followeä bù aî addresó wilì starô  displayinç  á 
            sequencå oæ addresseó anä thå byteó theù contain® Afteò eacè 
            bytå  ió displayeä yoõ maù loaä thaô addresó witè á ne÷ bytå 
            by typing that byte in. To terminate the process type ^X.

            Example:
            L500
            500 6F 70
            501 4E ^X

            AL This goes into memory <cr> <lf>
            including the cr lf <cr> <lf>
            ^X
             
        MOVE MEMORY
            Typinç   Í  followeä bù threå addresseó wilì movå thå  blocë 
            defineä  bù  thå firsô twï addresseó  tï  thå  blocë 
            beginninç aô Š

                                        3








            the third address.

            Example:
            M100 200 A00

        OUTPUT TO PORT
            Typinç   Ï   followeä bù á porô numbeò anä á bytå wilì  senä 
            the indicated byte out the port.
            Example:
            O04 1A

        PRINTER TOGGLE
            Typing P will toggle the list device

        REPLACE MEMORY
            Typinç   Ò   followeä bù twï addresseó á targeô bytå  anä  á 
            replacemenô  bytå wilì substitutå alì thå occurenceó oæ  thå 
            target between the two addresses with the replacement byte.
           
            Example:
            R100 200 1A 1B
                 
        SEARCH FOR BYTE
            Typinç   Ó  followeä bù twï addresseó anä onå oò  twï  byteó 
            wilì  displaù thå thå addresó oæ thå firsô occurencå oæ thaô 
            byte which is located between the two addresses.

            Example:
            S500 A000 1D
            S100 300 1D 1F
            AS100 500 AB

        COMMAND TABLE
            Typinç  Ô  wilì generatå á copù oæ thå commanä helğ filå  oî 
            the user's terminal

        COMPARE BLOCKS
            Typinç   Ö  followeä bù threå addresseó wilì displaù oî  thå 
            screeî  differenceó betweeî twï blockó oæ memorù defineä  bù 
            thå addresses® Thå firsô twï addresseó definå thå baså blocë 
            thå  thirä addresó defineó thå beginninç oæ thå blocë  tï  bå 
            compared.

            Example:
            V100 200 FF0 1000

        DISP STACK POINT
            Typing  X  will display the stack pointer on the screen



                                   DISCLAIMER

            Thå  MTØ Coprporatioî doeó noô supporô thió codå noò makå anù 
        guaranteå  aó tï thå suitabilitù oò applicabilitù oæ thió prograí Š

                                        4








        foò á particulaò applicatioî oò computeò system.
























































                                        5





