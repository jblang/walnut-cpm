







   ***********************************************************
   *                                                         *
   *                      USER'S GUIDE                       *
   *                                                         *
   *                           for                           *
   *                                                         *
   *  ZCPR2 -- Z80 Command Processor Replacement, Version 2  *
   *                                                         *
   ***********************************************************


                               by

                          Richard Conn



                        Manual Revision 0
                         4 February 1983






                          ZCPR2 Version
                               2.0

            Copyright (c) 1982, 1983 by Richard Conn
                       All Rights Reserved



     ZCPR2¨† itÛ utilitieÛ aÛ distributed¨† an‰ itÛ documentatioÓ ç
fileÛ aÛ distribute‰ arÂ copyrighted¨† 198≤ an‰ 1983¨† b˘ Richar‰ ç
ConnÆ†  RefeÚ† tÔ Appendi¯ ¡ foÚ · completÂ listinÁ oÊ thÂ† ZCPR≤ ç
distributioÓ files.



     CP/Õ iÛ · registere‰ trademarÎ oÊ DigitaÏ Research.





                     User's Guide for ZCPR2

                        Table of Contents


          Section                                      Page

          Index to ZCPR2 Utility Programs and Resident
               Commands                                Index-1

          Foreword                                     Foreword-1

          0.0  Introduction                               1
               0.1  Overview of the ZCPR2 Help Files      2
               0.2  A Note on File References             3
               0.3  Line Editing and Output Control       3

          1.0  Input/Output                               5
               1.1  Redirectable I/O Under ZCPR2          5
               1.2  Loading Redirectable I/O Drivers      6
               1.3  Displaying and Selecting Redirectable
                         I/O Drivers                      6
               1.4  Controlling the Disk Output Facility  9
               1.5  Redirectable I/O and the ZCPR2 Sys   11
               1.6  On the Programming of Terminals      11

          2.0  Directory Utility                         12
               2.1  Overview of XDIR3                    12
               2.2  Basic Use of XDIR3 Under ZCPR2       13
               2.3  XDIR3 Output Control Options         15
               2.4  XDIR3 File Selection Options         16
               2.5  XDIR3 File Name Buffer Facility      18
               2.6  Use of XDIR3 on Secure Systems       20
               2.7  Installation of XDIR3                21

          3.0  Disk Utility                              24
               3.1  Invoking DU2 and DU2 Installation    24
               3.2  DU2 Command Summary                  25
               3.3  Commands for Logging and Viewing
                         Disk Parameters                 26
               3.4  Commands for Positioning and Reading 29
               3.5  Commands for Searching for Data      32
               3.6  Commands for Saving and Restoring    33
               3.7  Commands for Viewing Data            36
               3.8  Commands for Altering Data           37
               3.9  Commands for Manipulating Macros
                         and the @ Command               40
               3.10 Miscellanea                          43
               3.11 Examples                             44
               3.12 Interpretation of Directory Data
                         Presented by DU2                46
           (Table of Contents Continued on Next Page)ä
                     User's Guide for ZCPR2

                        Table of Contents


          Section                                      Page

          4.0  Library Utilities                         47
               4.1  Author Credits and Introduction      47
               4.2  Why Use Libraries?                   48
               4.3  Why Not Use Libraries?               48
               4.4  How to Use the Library Utility LU    49
               4.5  Summary of Operators                 50
               4.6  LU Command Line Forms                53
               4.7  CAUTIONS                             54
               4.8  LRUNZ Command                        55
               4.9  LDIRZ Command                        57
               4.10 LRUNZ as an Extended Command
                         Processor Under ZCPR2           57

          5.0  Menu                                      59
               5.1  Overview of MENU                     59
               5.2  Summary of MENU Commands             63
               5.3  Programming MENU.CPR Files           64
               5.4  MENU.CPR Commands                    67
               5.5  MENU Programming Command Summary     69
               5.6  MENU's Relationship to the ZCPR2 Sys 70
               5.7  MENU Error Messages                  71
               5.8  MCHECK -- MENU.CPR Syntax Checker    71

          6.0  File Compare Utilities                    74
               6.1  File Comparision Utilities Under
                         ZCPR2                           74
               6.2  CRC Check Utility Under ZCPR2        74
               6.3  Examples                             75

          7.0  File Copy Utility                         78
               7.1  MCOPY Overview                       78
               7.2  MCOPY Command Line Options           79
               7.3  MCOPY Interactive Mode               80
               7.4  Sample MCOPY Sessions                81

          8.0  Command Files                             84
               8.1  Command File Processing              84
               8.2  Disk-Based Command Files -- SUB2     85
               8.3  SUB2 Error Messages                  86
               8.4  SUB2 Command Summary                 87
               8.5  Memory-Based Command Files -- ZEX    87
               8.6  ZEX Control Commands                 88
               8.7  Restrictions on Command Files        93
               8.8  SUB2 and ZEX as ECPs Under ZCPR2     94

           (Table of Contents Continued on Next Page)

                     User's Guide for ZCPR2

                        Table of Contents


          Section                                      Page

          9.0  Named Directories                         95
               9.1  Overview of the Named Directory
                         Concept                         95
               9.2  Creating Named Directory Files with
                         MKDIR                           96
               9.3  Disk-Based and Memory-Based Named
                         Directories                     99
               9.4  Loading Named Directory Files       101
               9.5  Printing Named Directory Files      101
               9.6  Moving About with CD                102
               9.7  Poor Little ECHO and CD             103
               9.8  System Directories                  103
               9.9  Sample Sessions                     104

         10.0  ZCPR2 Resident and Alternate Commands    114
               10.01 The DIR Command                    114
               10.02 The ERA Command                    115
               10.03 The REN Command                    115
               10.04 The TYPE and LIST Commands         115
               10.05 The SAVE Command                   116
               10.06 The GET Command                    116
               10.07 The GO Command                     116
               10.08 The JUMP Command                   117
               10.09 The DU Form for Changing Disk and
                         User                           117
               10.10 Alternates to the ZCPR2 Residents  118
               10.11 The XDIR Command                   119
               10.12 The ERASE Command                  120
               10.13 The RENAME Command                 122
               10.14 The PAGE Command                   123
               10.15 The PRINT Command                  124
               10.16 The PROTECT Command                125
               10.17 The PATH Command                   126
               10.18 The WHEEL Command                  128

          11.0 Help System                              129
               11.1 The HELP2 Subsystem for Online
                         Documentation                  129
               11.2 Welcome to the HELP Command         129
               11.3 How to Use the HELP Command         130
               11.4 Moving Around Within the HELP Cmnd  131
               11.5 HELP Command Prompts                133
               11.6 HELP Error Messages                 134
               11.7 How to Write HELP Files             135
               11.8 The Tree Structure of HELP          137
               11.9 Sample HELP Files Illustrating Use
                         of Tree Structure              137ä.he                ZCPR2 User's Guide -- Program Index
.fo                                               Page Index-#
.pn 1

                     User's Guide for ZCPR2
      Index to ZCPR2 Utility Programs and Resident Commands

Program Name   Version   Built-In Help  References

CD               2.3          Yes       70, 96, 102
COMPARE          1.4          Yes       74
CONFIG           1.2          Yes       11
CRC              2.0          Yes       74

DEVICE           1.3          Yes       6
DIFF             1.6          Yes       74
DIR*             ---          No        114
DU2              1.0          Yes       24

ECHO             1.1          Yes       115
ERA*             ---          No        115
ERASE            4.0          Yes       118, 120

GO*              ---          No        116
GENINS           2.2          No        6, 11, 19, 21, 70
GET*             ---          No        116

HELP or HELP2    4.0          Yes(1)    129

IOLOADER         1.3          Yes       6

JUMP*            ---          No        117

LD               1.1          Yes       96, 101
LDIRZ            2.0          Yes       47, 57
LIST*            ---          No        115
LRUNZ            1.0          Yes(2)    47, 55
LU               1.10         No        47

MCHECK           1.1          Yes       71
MCOPY            3.0          Yes       78
MENU             1.4          No        59
MKDIR            1.2          Yes       96

PAGE             1.0          Yes       118, 123
PATH             1.0          Yes       118, 126
PRINT or PRINT3  1.0          Yes       118, 124
PROTECT          2.0          Yes       118, 125
PWD              1.1          Yes       96, 101

RECORD           1.4          No        6, 9
REN*             ---          No        115
RENAME           2.0          Yes       118, 122

* Denotes a ZCPR2 Resident Command
(1) HELP, HELP HELP, or HELP HELP2 invokes Help on HELP
(2) LRUNZ without any arguments invokes a Help Message


                     User's Guide for ZCPR2
      Index to ZCPR2 Utility Programs and Resident Commands
                      Continuation of Index

Program Name   Version   Built-In Help  References

SAVE*            ---          No        116
ST or STARTUP    1.4          Yes       6, 70, 102
SUB or SUB2      2.3          Yes       84, 85
SYSIO            N/A          No        5

TINIT            2.0          Yes       11
TYPE*            ---          No        115

WHEEL            1.1          Yes       118, 128

XDIR3            1.5          Yes       12, 118, 119

ZEX              1.3          Yes       84, 87

* Denotes a ZCPR2 Resident Command


Other Notes:

     1Æ†  ThesÂ arÂ thÂ versioÓ numberÛ oÊ thÂ ZCPR≤ UtilitieÛ aÙ ç
distribution time.

     2Æ  B˘ Built-IÓ Help¨ … refeÚ tÔ thÂ "standard¢ … adopte‰ iÓ ç
thaÙ† ·† comman‰ oÊ thÂ forÌ "CMNƒ //¢ causeÛ · hel† messagÂ† oÓ ç
thaÙ comman‰ tÔ bÂ displayedÆ†  AÛ yoı caÓ see¨† thaÙ† "standard¢ ç
applieÛ iÓ man˘ cases¨ buÙ noÙ alÏ cases.

     3Æ†  DocumentatioÓ† oÓ thesÂ ZCPR≤ commandÛ caÓ bÂ foun‰† iÓ ç
three places:
          A.  The command itself (CMND // form)
          B.  The User's Guide for ZCPR2
          CÆ  ThÂ OnlinÂ DocumentatioÓ SysteÌ (HELP/HL– Files)

     4Æ†  ThÂ exampleÛ iÓ thÂ manualÛ werÂ create‰ oveÚ ·† perio‰ ç
oÊ† time¨† and¨† aÛ† · consequence¨† thÂ versioÓ numberÛ† oÊ† thÂ ç
programÛ† ma˘ noÙ bÂ thÂ samÂ aÛ thÂ versioÓ numberÛ oÊ thÂ fileÛ ç
iÓ thÂ distributionÆ†  DÔ noÙ bÂ alarme‰ aÙ thisÆ†  ThÂ† exampleÛ ç
arÂ stilÏ correcÙ an‰ stilÏ geÙ thÂ ide· acrosÛ (… hope)¨ an‰ thÂ ç
versioÓ† numberÛ reference‰ iÓ thiÛ lisÙ an‰ iÓ thÂ† distributioÓ ç
files themselves are what count.

.he                  ZCPR2 User's Guide -- Foreword
.fo                                               Page Foreword-#
.pn 1

                            Foreword

     WelcomÂ† tÔ thÂ worl‰ oÊ ZCPR2Æ†  ThiÛ iÛ onÂ oÊ fouÚ† ZCPR≤ ç
manuals¨ namel˘ thÂ User'Û GuideÆ  ItÛ purposÂ iÛ tÔ telÏ yoı ho˜ ç
tÔ usÂ ZCPR≤ an‰ itÛ utilities¨† an‰ iÙ iÛ mainl˘ · tutoriaÏ† an‰ ç
referencÂ† oÓ† thÂ utilitieÛ distribute‰ aÛ · parÙ oÊ† thÂ† ZCPR≤ ç
SystemÆ†  TherÂ† arÂ† threÂ† otheÚ manualÛ iÓ† thÂ† ZCPR≤† manuaÏ ç
series:

          o the Concepts Manual
          o the Installation Manual
          o the Rationale

     ThÂ† ConceptÛ ManuaÏ iÛ · goo‰ manuaÏ tÔ rea‰† firstÆ†  OncÂ ç
completed¨† thÂ† intermediatÂ oÚ advance‰ useÚ shoul‰ bÂ read˘ tÔ ç
instalÏ ZCPR≤ oÓ hiÛ microcomputerÆ  TÔ perforÌ thÂ installation¨ ç
thÂ InstallatioÓ ManuaÏ iÛ providedÆ†  ThiÛ iÛ ver˘ technicaÏ an‰ ç
assumeÛ† intimatÂ† knowledgÂ oÊ 808∞ an‰† Z8∞† assembl˘† languagÂ ç
programmingÆ†  FoÚ† readerÛ withouÙ sucË knowledge¨† …† recommen‰ ç
thaÙ† yoı fin‰ youÚ nearesÙ computeÚ clu‚ (an‰ therÂ arÂ TON”† oÊ ç
them© an‰ seeÎ helpÆ†  ComputeÚ ClubÛ arÂ ver˘ nicÂ foÚ thaÙ sorÙ ç
oÊ thingÆ†  … myselÊ aÌ · membeÚ oÊ thÂ AmateuÚ ComputeÚ Grou oÊ ç
Ne˜ Jerse˘ (ACG-NJ)¨† whicË iÛ oveÚ 110∞ memberÛ strongÆ  GettinÁ ç
involve‰† iÓ · computeÚ clu‚ caÓ reall˘ bÂ lotÛ oÊ fuÓ an‰ educaç
tional¨ an‰ informatioÓ an‰ programs¨ likÂ ZCPR2¨ caÓ bÂ shared.

     ThÂ† purposÂ† oÊ thÂ ConceptÛ ManuaÏ iÛ tÔ introducÂ yoı† tÔ ç
thÂ basic¨† underlyinÁ principleÛ behin‰ ZCPR≤ an‰ tÔ givÂ yoı† · ç
workinÁ knowledgÂ oÊ thÂ followinÁ things:

          o What ZCPR2 Is
          o What ZCPR2 is Capable of Doing
          o How to Use ZCPR2
          o How to Adapt ZCPR2 to Your Particular Desires

     Finally¨† thÂ lasÙ manuaÏ iÛ thÂ RationaleÆ†  ThiÛ manuaÏ iÛ ç
aÓ† exposeß oÊ wh˘ … di‰ thingÛ likÂ … di‰ witË ZCPR2¨† whaÙ† thÂ ç
tradÂ† offÛ were¨† whaÙ directionÛ werÂ takeÓ iÓ thÂ† desigÓ† an‰ ç
why¨† an‰† otheÚ† sucË technicaÏ dittiesÆ†  ThiÛ manuaÏ iÛ† quitÂ ç
technicaÏ† an‰ iÛ provide‰ tÔ givÂ thÂ intermediatÂ an‰† advance‰ ç
CP/Õ† useÚ · betteÚ feelinÁ an‰ understandinÁ oÊ ZCPR≤† internalÛ ç
an‰ concepts.

     …† sincerel˘† hopÂ yoı enjo˘ usinÁ ZCPR2Æ†  IÙ† haÛ† beeÓ† · ç
pleasurÂ creatinÁ it¨† an‰ iÙ iÛ alsÔ · loÙ oÊ fuÓ tÔ usÂ itÆ  M˘ ç
opinion¨ oÊ courseÆ  TakÂ care¨ an‰ goo‰ luck.

                                        Richard Conn
