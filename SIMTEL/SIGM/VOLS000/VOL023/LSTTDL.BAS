10 ' TDL
20 '
30 DEFINT A-G
40 DEFSTR N-Z
50 DIM S(136)
60 DIM T(30)
70 '
80 ALEN=9
90 ZCOM=";"
100 ZLAB=":"
110 ZBYTE="DB"
120 ZEXT=".SRC"
130 AZIL=2
140 '
150 ' opcodes
160 '
170 S(0)=ZCOM+"---"
180 S(1)="ACI"
190 S(2)="ADC"
200 S(3)="ADD"
210 S(4)="ADI"
220 S(5)="ANA"
230 S(6)="ANI"
240 S(7)="CALL"
250 S(8)="CC"
260 S(9)="CM"
270 S(10)="CMA"
280 S(11)="CMC"
290 S(12)="CMP"
300 S(13)="CNC"
310 S(14)="CNZ"
320 S(15)="CP"
330 S(16)="CPE"
340 S(17)="CPI"
350 S(18)="CPO"
360 S(19)="CZ"
370 S(20)="DAA"
380 S(21)="DAD"
390 S(22)="DCR"
400 S(23)="DCX"
410 S(24)="DI"
420 S(25)="EI"
430 S(26)="HLT"
440 S(27)="IN"
450 S(28)="INR"
460 S(29)="INX"
470 S(30)="JC"
480 S(31)="JM"
490 S(32)="JMP"
500 S(33)="JNC"
510 S(34)="JNZ"
520 S(35)="JP"
530 S(36)="JPE"
540 S(37)="JPO"
550 S(38)="JZ"
560 S(39)="LDA"
570 S(40)="LDAX"
580 S(41)="LHLD"
590 S(42)="LXI"
600 S(43)="MOV"
610 S(44)="MVI"
620 S(45)="NOP"
630 S(46)="ORA"
640 S(47)="ORI"
650 S(48)="OUT"
660 S(49)="PCHL"
670 S(50)="POP"
680 S(51)="PUSH"
690 S(52)="RAL"
700 S(53)="RAR"
710 S(54)="RC"
720 S(55)="RET"
730 S(56)="RIM"
740 S(57)="RLC"
750 S(58)="RM"
760 S(59)="RNC"
770 S(60)="RNZ"
780 S(61)="RP"
790 S(62)="RPE"
800 S(63)="RPO"
810 S(64)="RRC"
820 S(65)="RST"
830 S(66)="RZ"
840 S(67)="SBB"
850 S(68)="SBI"
860 S(69)="SHLD"
870 S(70)="SIM"
880 S(71)="SPHL"
890 S(72)="STA"
900 S(73)="STAX"
910 S(74)="STC"
920 S(75)="SUB"
930 S(76)="SUI"
940 S(77)="XCHG"
950 S(78)="XRA"
960 S(79)="XRI"
970 S(80)="XTHL"
980 S(81)="JR"
990 S(82)="JRNZ"
1000 S(83)="JRZ"
1010 S(84)="JRNC"
1020 S(85)="JRC"
1030 S(86)="DJNZ"
1040 S(87)="EXAF"
1050 S(88)="RLCR"
1060 S(89)="RRCR"
1070 S(90)="RLAR"
1080 S(91)="RRAR"
1090 S(92)="SLAR"
1100 S(93)="SRAR"
1110 S(94)="SRLR"
1120 S(95)="BIT"
1130 S(96)="RES"
1140 S(97)="BSET"
1150 S(98)="EXX"
1160 S(99)="DADC"
1170 S(100)="DSBC"
1180 S(101)="IM0"
1190 S(102)="IM1"
1200 S(103)="IM2"
1210 S(104)="INP"
1220 S(105)="LDAI"
1230 S(106)="LDAR"
1240 S(107)="LBCD"
1250 S(108)="LDED"
1260 S(109)="LSPD"
1270 S(110)="NEG"
1280 S(111)="OUTP"
1290 S(112)="RETI"
1300 S(113)="RETN"
1310 S(114)="RLD"
1320 S(115)="RRD"
1330 S(116)="SBCD"
1340 S(117)="SDED"
1350 S(118)="SSPD"
1360 S(119)="STAI"
1370 S(120)="STAR"
1380 S(121)="LDI"
1390 S(122)="CCI"
1400 S(123)="INI"
1410 S(124)="OUTI"
1420 S(125)="LDD"
1430 S(126)="CCD"
1440 S(127)="IND"
1450 S(128)="OUTD"
1460 S(129)="LDIR"
1470 S(130)="CCIR"
1480 S(131)="INIR"
1490 S(132)="OUTIR"
1500 S(133)="LDDR"
1510 S(134)="CCDR"
1520 S(135)="INDR"
1530 S(136)="OUTDR"
1540 '
1550 ' operands
1560 '
1570 T(0)=""
1580 T(1)="N"
1590 T(2)="NN"
1600 T(3)=""
1610 T(4)="DISP"
1620 T(5)="B"
1630 T(6)="C"
1640 T(7)="D"
1650 T(8)="E"
1660 T(9)="H"
1670 T(10)="L"
1680 T(11)="M"
1690 T(12)="A"
1700 T(13)="SP"
1710 T(14)="PSW"
1720 T(15)="0"
1730 T(16)="1"
1740 T(17)="2"
1750 T(18)="3"
1760 T(19)="4"
1770 T(20)="5"
1780 T(21)="6"
1790 T(22)="7"
1800 '
1810 OPEN "O",1,"TDL.LST"
1820 PRINT #1,ALEN
1830 PRINT #1,ZCOM
1840 PRINT #1,ZLAB
1850 PRINT #1,ZBYTE
1860 PRINT #1,ZEXT
1870 PRINT #1,AZIL
1880 A=136:PRINT#1,A
1890 FOR B=0 TO A:PRINT#1,S(B):NEXT B
1900 A=22:PRINT#1,A
1910 FOR B=0 TO A:PRINT#1,T(B):NEXT B
1920 CLOSE 1
1930 PRINT "END OF LIST LOAD"
