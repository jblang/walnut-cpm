
                            ZCPR3CMD
Written by Richard Conn, modified by Bob Logan, 27/9/85.
All original rights applied by Richard still stand.

What you need to install & use this package
	M80 & L80 for assembly
	A Z80 processor
	A system which allows a rom to be switched in when needed
	(S100 systems and also the Microbee 128K)
	A fair knowledge of ZCPR programming & code locations

This series of files was designed to expand on Richard Conn's 
excellent idea of a Resident Command Package. The 2 dis-
advantages of Richards idea in my system were:-

1)	The very large amount of ram used in the original 
implementation, not available for any other purpose & reducing 
the available TPA by 2k. I frequently use Multiplan & FMS80, both 
requiring much more ram than would have been available otherwise.

2)	The options I wanted to install included all standard 
ZCPR commands, SUBON & minimum search path. This could not be 
done because the ZCPR grew with each new option. The problem of 
picking which commands I wanted became impossible.

	The new system simply works on the fact that you can only 
use ONE command at a time. If this is true, why not have a ZCPR 
with ONE command which can be replaced with another? When you 
type DIR, ZCPR3CMD locates the code for this command, loads it 
into a 100H area at the end of itself and then performs the 
command. Therefore the ZCPR is kept down under 2K (700H bytes 
plus the command area), allowing most other desirable options to 
be used.
	A situation is now created whereby the number of actual 
commands is greatly increased. Firstly, the commands' code is no 
longer stored in ZCPR itself, but in a rom or roms. This gives 
an almost limitless storage area in an S100 system with bank 
selected rom boards. Secondly, as the commands work with and in 
ZCPR3CMD, much of the code within ZCPR can be used by the 
commands. This makes for very efficient & small commands. The 
commands included with this package number 17 but the code fills 
under 700H of my rom.
	To add a command, one must become familiar with the 
subroutines within ZCPR. As there are many, you will find a small 
amount of extra code & a few calls will achieve the desired 
command quickly.
	All commands, as they are seen by ZCPR to be resident, 
will work in all normal situations including multiple commands 
etc. I have used this package for months now with no problems.

        I am grateful for Richard Conn's considerable 
contribution and hope this package is seen as a useful extension
of his efforts.

        Should anyone find a problem, improve the code or add 
more commands I would be grateful if they would send their 
comments & code to me at Tesseract RCPM+, Sydney, Australia. As I 
am a piano tuner & not a programmer, I often wonder what a 
programmer could do with this package.

						Bob Logan
