
       ***** ZDIR 1 Very extended directory program *****

PROGRAM:  ZDIR 1
AUTHOR:  BOB LOGAN
DERIVED FROM RICHARD CONN'S XD III & his sylib3 library
VERSION:  1
DATE:  29 Oct 85

For use with CP/M, ZCPR2 & ZCPR3 packages.   (Z80 only)
ZDIR 1 produces a formatted, alphabetized listing of the contents of the disk
directory of the implied (current logged-in) or specified disk. It will display
92 files per screen.

ZDIR3.COM	for ZCPR3 systems.
ZDIR2.COM 	for ZCPR2 systems.
ZDCPM.COM	for CP/M 80 systems.

ZDIR.LBR contains all the following files. Please don't take the LBR file
unless you have M80 & a good knowledge of programming. 
ZDIR3.COM
ZDIR2.COM
ZDCPM.COM
ZDIR.MAC	Common source for all 3 com files
ZDIR.SUB	Submit file for above
SYSLIB.REL	Routine package (written by Richard Conn)
(Syslib3 source is available on volume nos 190 & 191 SIG/M disks)

ZDIR 1 is invoked by a command line of the following form --
	ZD du:afn ooo...
or
	ZD /oooo...
where:
du is an optional disk/user specification if du is omitted, ZDIR 1
defaults to the current disk/user. afn is an ambiguous file name and type
(* and ? may be used). o are option letters as follows:

	Aa - Set the attributes of the files to be displayed;
		a=S for System Files, a=N for Non-System Files
		a=A for All Files (System and Non-System)
	P  - Print display as well as show it on the screen
	PF - Same as P with form feed after
	S  - Sort by type/name (rather than by name/type)
	U  - Set ALL users (also shows the user numbers)
	// - Print help message

Options may be combined as desired note that AA is the same as AS and AN,
but AS by itself negates AN and vice-versa, with AN taking precident.

                        *** KNOWN BUG ***
When used under standard CP/M 80, you can only specify the drive OR the user,
not both. ZDCPM A0: eroniously reports no files found. The problem is that the
DIRSEL routine simply doesn't flag any files to be printed.

So under CP/M 80, ZDIR 1 is invoked by a command line of the following form --
	ZDCPM d:afn ooo...
or
	ZDCPM u:afn ooo...
or
	ZDCPM /oooo...
where:
	d = optional disk spec & u = optional user spec.

               ***** ZDCPM /u still works!!! *****

All original Copywrights and restrictions to distribution of this source file
& accompanying programs apply as originally specified by RICHARD CONN & it
remains the property of the cpm public domain. No fee or conditions may be
imposed on it's distribution.

This file was converted to Z80 code & partly optomised but I would be greatful
if someone could fix the above bug & finish the job of conversion. Any
comments, bug fixes or improvments should be reported to the author above on
the Tesseract RCPM system, SYDNEY, AUSTRALIA.

