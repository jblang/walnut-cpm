                  Floppy Backup of large files
                    BACKUP.COM & COPYRND.COM
                           (Z80 only)

Backinç  uğ  largå  fileó froí winchestå discó caî bå  á  probleí 
undeò CP/Í iæ thå filå sizå ió greateò thaî thå totaì capacitù oæ 
a floppy disk.

Á  numbeò oæ proprietorù utilitieó arå availablå foò  backinç  uğ 
largå  files¬  howeveò á systeí whicè createó standarä CP/Í fileó 
oî  thå  disã  haó  attractionó aó  welì  aó  providinç  completå 
flexibilitù oveò anù winchesteò disë anä floppù disë combination.

Ratheò  thaî  concocô somå uniquå filå structurå foò  thå  backuğ 
copies¬  thå  BACKUĞ utilitù exploitó thå methoä useä bù CP/Í  tï 
managå largå files® Tï thå applicatioî prograí anä tï manù users¬ 
á largå CP/Í filå appearó aó á singlå file®  Iî facô thå physicaì 
CP/Í fileó arå limiteä tï 16ë undeò CP/Í 1.4¬  anä 16k¬ 32k¬ 64k¬ 
oò  128ë  undeò  CP/Í 2.2®  CP/Í  overcomeó  thió  limitatioî  bù 
creatinç  á  numbeò  oæ  fileó witè thå samå  filenamå  buô  witè 
differenô extenô numbers®  Althougè DIR¬  foò example¬ onlù showó 
onå  file¬  therå  maù bå manù fileó foò thå onå  filename®  (Thå 
CAT.COÍ utilitù iî thå UË Librarù wilì demonstratå this.)

Thå  BACKUĞ  utilitù overcomeó thå sizå probleí  bù  copyinç  noô 
files¬  buô  extentó oæ files®  Aó theså musô alwayó bå lesó thaî 
thå capacitù oæ á floppù diskette¬  largå fileó arå easilù backeä 
uğ bù copyinç eacè extenô oî multiplå disks®  BACKUĞ wilì copù aó 
manù extentó aó possiblå ontï eacè diskettå beforå promptinç  thå 
useò tï changå disks.

Thå extenô sizå ió á functioî oæ thå disë blocksizå (1k¬  2k¬ 4k¬ 
etc.©  anä whetheò thå disë capicitù ió lesó thaî 25¶  blocksizeó 
or not. The following example illustrates this.

For example:
------------
                      20 M Byte           800 K Byte 
                      Winchester          floppy disc
Blocksize:               16k                   4k
Capacity:              1280 blks             200 blks
Extent size:            128k                  64k

File size:                8M                  8M
No extents:              64                  128
No discs:                 1                   11

Noteº  CP/Í  Pluó ió requireä tï supporô á disã capacitù oæ 2°  Í 
bytes®  Undeò CP/Í  2.2¬ thå disã woulä requirå partitioninç intï 
smalleò units.


BACKUĞ  haó iî thió examplå createä 12¸ standarä CP/Í files¬  buô 
spreaä  oveò 1± disks®  Iô ió wortè observinç thaô á DIÒ  oæ  thå 
discó  wilì producå NÏ FILEÓ excepô oî thå firsô disk®  Howeveò á ŠSTAÔ undeò CP/Í 2.2¬  oò á DIÒ [SIİ undeò CP/Í Pluó wilì sho÷ thå 
filenamå oî eacè disk®  Á STAÔ $Ó wilì alsï sho÷ that¬ excepô foò 
thå firsô disc¬ thå sizå oæ thå fileó ió lesó thaî thå maximum.

BACKUĞ  haó  utiliseä  onå oæ thå lesseò knowî featureó  oæ  CP/Í 
whicè  ió itó abilitù tï supporô fileó witè 'HOLES'®  Á  HOLÅ  ió 
eitheò  á non-existenô extent¬  oò aî unuseä datá blocë withiî aî 
extent®  Useró oæ randoí accesó maù havå comå acrosó thió featurå 
accidently.

Copying HOLES
-------------

Ofteî thå firsô timå á useò experienceó fileó witè HOLEÓ ió  wheî 
PIĞ  failó tï copù á file®  PIĞ unfortunatelù stopó aô thå  firsô 
HOLE and assumes this is the end of the file.

Thå  utilitù COPYRNÄ overcomeó thió limitatioî anä copieó á  filå 
froí begininç tï thå enä skippinç oveò anù holes® Howeveò COPYRNÄ 
aó firsô releaseä iî thå UË Librarù eraseä thå filå iæ iô existeä 
oî  thå  targeô device®  Thå lateò releaså oæ  COPYRNÄ  haó  beeî 
modifieä tï confirí thå eraså sï thaô iô caî bå useä tï combinå á 
filå spreaä oveò manù diskettes.

Thuó  anù filå whicè haó beeî backeä uğ witè thå  BACKUĞ  utilitù 
anä spreaä oveò morå thaî onå disc¬ cannoô bå recovereä witè PIP® 
Instead the utility COPYRND must be used.


WILDCARDS
---------

Botè  BACKUĞ anä COPYRNÄ supporô wilä cards®  Thuó BACKUĞ caî  bå 
useä  tï backuğ alì fileó oî á winchesteò disc¬  anä COPYRNÄ wilì 
restore them.

IMPORTANT
---------

Thå  BACKUĞ  anä COPYRNÄ havå beeî developeä foò uså  undeò  botè 
CP/Í 2.² anä CP/Í Plus¬  buô theù havå noô beeî thoroughlù testeä 
under CP/M 2.2 - please inform me of any bugs thereby found.

Á  Z8° machinå ió assumed¬  however¬  thå programó caî easilù  bå 
converteä intï á 8080/808µ versioî aó onlù thå 808° registeró arå 
used®  Thå  programó werå assembleä witè Microsofô M8° anä linkeä 
witè Digitaì Researcè LINK.

D. Powys-Lybbe
18th August 1984
================

