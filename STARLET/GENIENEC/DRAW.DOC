               Graphics Drawing on the NEC Starlet

                         William H. Ball
                            71735,505


Introduction
The DRAW.COM Interpreter

DRAW.COÍ ió á graphicó drawinç prograí foò thå NEÃ Starlet® Yoõ 
caî uså thå prograí tï dra÷ pictureó oî thå Starlet'ó screeî anä 
theî dumğ thå picturå tï youò printer® DRAW.COÍ ió noô 
interactive¬ buô ió á "file-draw¢ prograí thaô loadó youò ASCIÉ 
texô filå oæ commandó anä drawó thå picturå oî youò screen® Yoõ 
caî savå youò pictureó foò lateò use®  DRAW.COÍ featureó oveò 2° 
commandó foò movinç arounä thå Starlet'ó screeî anä creatinç anä 
printinç images® Thå syntaø ió similaò tï Microsofô BASIC'ó 
drawinç commands.

With DRAW.COM you can:

     - addresó anä turî oî oò ofæ anù oæ thå Starlet'ó 61,44° 
       pixels

     - draw lines between any two points on the screen

     - dra÷ boxes¬ circles¬ anä filleä boxeó oò circleó oæ anù 
       size

     - design your own character fonts for drawing

     - dump your picture to your Tandy or IBM graphic printer

Iæ yoõ can'ô wait¬ anä wanô tï trù thió program¬ uså thió 
command:

     DRAW DEMO.DRW 	or	DRAW DRAWME.DRW

anä hiô thå Returî key® You'lì seå thaô thå Starleô caî dï 
graphics just as well as its bigger brothers!

Thió prograí ió á mini-interpreteò thaô takeó youò ASCIÉ filå oæ 
UPPERCASÅ commandó anä drawó pictureó oî thå Starlet'ó screen® Iæ 
yoõ havå á Tandù oò IBÍ graphiã printer¬ yoõ caî dumğ the screen 
tï youò printeò aô anù poinô iî thå file® I'vå limiteä thå sizå 
oæ thå ASCIÉ filå tï 500° characters¬ buô yoõ caî changå thió 
defaulô bù recompilinç thå program.

Your draw file must be specified on the command. For example,

     DRAW MYFILE.DRW

wilì loaä DRAW¬ theî loaä thå specifieä ASCIÉ texô file® Iæ yoõ 
dï noô specifù "MYFILE.DRW,¢ DRA× wilì exiô witè á "filå noô 
specified¢ error® Iæ DRA× cannoô finä "MYFILE.DRW,¢ iô wilì exiô Šwitè á "filå noô found¢ error.

Screen Size

Thå Starlet'ó LCÄ resolutioî ió 48° dotó widå (X-axis© bù 12¸ 
dotó higè (Y-axis)¬ sï X'ó valuå caî bå betweeî ° anä 480® Ù caî 
havå á valuå oæ ° tï 128® Aî x,ù positioî oæ 0,° ió thå uppeò 
lefô oæ thå screen.

      0,0 ----------------------------------------- 480,0
          |                                       |
          |     The NEC's screen is a liquid-     |
          |     crystal display of 480 dots       |
          |     by 128 dots. The screen corners   |
          |     are x,y positions.                |
          |                                       |
          |                                       |
    0,128 ----------------------------------------- 480,128

Design Your Own Fonts

I'vå alsï includeä á commanä yoõ caî uså tï desigî youò owî 
characteò fontó oò icons® Yoõ caî uså á matriø oæ uğ tï 1µ dotó 
widå anä 1µ dotó high® Thió meanó yoõ caî fiô abouô 3² characteró 
oò iconó iî thå maximuí sizå acrosó thå screen¬ morå iæ yoõ 
overlağ them® Abouô ninå characteró oò iconó wilì bå aó higè aó 
thå screen® Again¬ yoõ caî changå thió bù recompilinç thå 
program® Theså limitó arå becauså Small-Ã caî onlù handlå 
integers as large as 32,768.

Index of Commands

Here's a quick list of the commands and their syntax:

Abx,b1,b2,b3,...bx - draw a user-defined character or icon
              Bx,y - draw a box to x,y
                Cn - set color to n
                Dn - move down n units
            Fn,x,y - draw box to x,y and fill with color n
                Gn - move north east n units while plotting
                Hn - move south east n units while plotting
                In - move south west n units while plotting
                Jn - move north west n units while plotting
                 K - wait for a keypress before proceeding
                Ln - move left n units while plotting
              Mx,y - move to x,y
              Nx,y - draw line to x,y
                Pn - dump screen to printer
                Rn - move right n units while plotting
         Sx,y str" - move to approx x,y cursor pos and print str
            Tx,y,r - draw a circle of radius r around x,y
                Un - move up n units while plotting
            Vx,y,r - draw a filled circle of radius r around x,y
                 X - XOR screen
                 ; - ignore rest of line (used for comments)Š                 $ - end of program, wait for keypress, quit

Thå dra÷ filå musô bå aî ASCIÉ filå createä bù youò editoò oò 
WordStar'ó non-documenô mode® Alì commandó musô bå iî uppercase® 
Excepô foò thå single-letteò commands¬ alì commandó musô bå 
followeä bù aî integer® Yoõ maù uså anù characteò tï separatå thå 
x,ù integers® É usuallù uså á comma® Thå Ó command'ó strinç musô 
bå separateä froí thå ù integeò bù á space¬ anä musô bå delimiteä 
by a quote mark. See the S command description.

Thå Starleô musô bå iî thå VT-10° mode¬ becauså somå of thå 
commands use that terminal's escape sequences.

Foò specifiã detailó concerninç thå commands¬ refeò tï thå 
following information.

Command Syntax

$

Thió characteò telló DRAW.COÍ tï waiô foò á keypress¬ cleaò thå 
screen, then quit and return to the MENU command line.

;

Ignorå thå line¬ becauså thå texô ió á comment® Yoõ caî uså thió 
commanä aó á remindeò anä tï documenô youò picture® Thió commanä 
shoulä bå thå firsô characteò oî á line® Iæ yoõ havå thió commanä 
followinç á strinç oæ drawinç commands¬ don'ô uså anù uppercaså 
letters¬ oò DRAW.COÍ wilì interpreô thå commentó aó commands® Foò 
example,

     ; THIS IS A COMMENT AND DRAW.COM WILL IGNORE THIS LINE
     M240,128       ; move to the middle of the screen
     
Abx,b1,b2,b3,...bx 

Dra÷ á characteò aô thå currenô x,ù positioî usinç thå specifieä 
characteò definition® The bø equaló thå numbeò oæ binarù digitó 
anä y-axió lineó oæ thå character¬ anä b± througè bø equaló thå 
decimaì valuå oæ eacè oæ thå y-axió lines® Thió commanä updateó 
thå currenô x,ù position® Iæ thió soundó complicated¬ don'ô 
worry® Here'ó aî examplå tï helğ you® Foò example¬ 

     A9,0,0,0,0,60,6,62,70,59

wilì dra÷ aî "a¢ oî thå screen® Iæ yoõ looë closely¬ you'lì seå 
the "a" is not like the Starlet's. Here's what the command means.

000000000           A - start definition of 9 lines, 0 for line 1
000000000                                            0 for line 2
000000000           the character is 9 dots wide     0 for line 3
000000000                                            0 for line 4
000111100   1111    <--                             60 for line 5
000000110      11      |                             6 for line 6Š000111110   11111      |-- Look familiar?           62 for line 7
001000110  1   11      |                            70 for line 8 
000111011   111 11  <--                             59 for line 9

Usinç thió approach¬ yoõ caî desigî youò owî fontó oò characters® 
Iæ you omiô á movå (Mx,y© commanä beforå defininç anä printinç 
thå letter¬ thå letteró wilì bå printeä alonç á verticaì axis® 
Doeó anyonå ouô therå wanô tï desigî á cursor-controlleä fonô 
editor¿ Usinç binarù numberó driveó må crazy.

Bx,y

Dra÷ á box¬ usinç á diagonaì froí thå currenô x,ù positioî tï 
x,y® Iæ thå currenô x,ù positioî were 0,0 the command

     B480,128

woulä dra÷ á boø thå sizå oæ thå screen® Nicå foò borders® Thió 
command does not update the current x,y position.

Cn

Dra÷ usinç thå specifieä color¬ wherå î equaì ± foò oî oò ° foò 
off® Iæ you'rå jusô starting¬ includå "C1¢ aó thå firsô commanä 
iî youò file® Thió commanä doeó noô affecô thå currenô x,ù 
position.

Dn

Moveó dowî î times¬ plottinç á doô eacè time® Yoõ caî uså thió 
command¬ alonç witè I¬ G¬ H¬ J¬ L¬ R¬ anä U¬ tï dra÷ characteró 
too¬ buô É prefeò thå Á command® Thió commanä updateó thå currenô 
x,ù position.

Fn,x,y

Dra÷ á boø froí thå currenô x,ù positioî oî á diagonaì tï thå 
specifieä x,ù position¬ anä uså thå specifieä coloò tï filì thå 
box® Thå color¬ n¬ caî bå á ° oò á 1® Thió commanä doeó noô 
update the current x,y position.

Gn

Movå north east î units¬ plottinç á doô alonç thå way® Thió 
command updates the current x,y position.

Hn

Move south east n units, plottinç á doô alonç thå way® Thió 
command updates the current x,y position.

In

Move south west n units, plottinç á doô alonç thå way® Thió 
command updates the current x,y position.Š
Jn

Move north west n units, plottinç á doô alonç thå way® Thió 
command updates the current x,y position.

K

Waiô foò á keypresó beforå proceeding® Don'ô uså thió commanä iæ 
yoõ havå XOR'ä thå screen® Thå keypresó wilì bå echoeä tï thå 
screeî aô thå currenô cursoò (noô x,y© position¬ creatinç á holå 
iî youò picture® Thió commanä ió helpfuì iæ yoõ arå testinç 
portionó oæ youò dra÷ file® DRAW.COÍ wilì waiô foò á keypresó aô 
thå enä oæ filå aó á default.

Ln

Movå lefô î units¬ plottinç á doô alonç thå way® Thió commanä 
updates the current x,y position.

Mx,y

Movå tï specifieä doô position® Thió commanä updateó thå currenô 
x,ù position¬ buô doeó noô dra÷ á linå froí thå previouó x,ù 
positioî oò ploô á doô aô thå specifieä position® Uså thió 
commanä tï movå arounä thå screeî anä positioî foò á draw.

Nx,y

Dra÷ á linå froí thå currenô x,ù positioî tï thå specifieä x,ù 
position. This command does not update the current x,y position.

Pn

Dumğ thå screeî tï youò printer® Iæ î equaló 1¬ thå printeò ió á 
Tandù printer® Iæ î equaló 2¬ thå printeò ió aî IBÍ graphiã 
printer.

Rn

Movå righô î units¬ plottinç á doô alonç thå way® Thió commanä 
update the current x,y position.

Sx,y str"

Movå tï specifieä x,ù positioî anä prinô thå string® Thió commanä 
calculateó thå cursoò positioî bù dividinç ø bù ¶ anä ù bù 8® Foò 
example,

     S240,64 At center"

wilì movå thå cursoò tï characteò 40¬ (24° divideä bù ¶ equaló 
40)¬ anä linå ¸ (6´ divideä bù ¸ equaló 8)® Thió commanä ió noô 
aó flexiblå aó thå Á command¬ buô ió fasteò becauså iô useó thå 
Starlet'ó VT-10° cursoò positioninç sequence® Thå cursoò positioî Šió calculateä bù integeò division¬ sï thå ø anä ù valueó wilì bå 
roundeä down® Iæ yoõ omiô thå enä quote¬ thå screeî wilì bå 
cleareä anä you'lì receivå aî erroò message® Thió commanä doeó 
noô updatå thå currenô x,ù position¬ buô iô doeó updatå thå 
current cursor position.

Tx,y,r

Dra÷ á circlå oæ radiuó ò arounä thå specifieä x,ù position® Thió 
command updates the current x,y position.

Un

Movå uğ î units¬ plottinç á doô alonç thå way® Thió commanä 
updates the current x,y position.

Vx,y,r

Dra÷ á filleä circlå oæ radiuó ò arounä thå specifieä x,ù 
position. This command updates the current x,y position.

X

Thió commanä XORó thå screen® Thió meanó thå blacë dotó wilì 
becomå whitå anä thå whitå dotó wilì becomå black® Thió commanä 
does not affect the current x,y position.

A Note About DRAW.COM

Thå prograí doeó littlå error-checking¬ sï bå careful¬ oò yoõ maù 
enä uğ drawinç pictureó ofæ thå Starlet'ó screen.

Youò picturå filå ió limiteä tï abouô 5,00° characters® WordStaò 
wilì telì yoõ exactlù ho÷ largå youò ASCIÉ filå ió iæ yoõ dï á 
^QÃ tï gï tï thå enä oæ thå filå iî thå non-documenô mode® 
DRAW.COÍ wilì exiô witè aî erroò messagå iæ youò filå ió toï 
large® É kepô thió sizå smalì sï peoplå withouô NODE'ó greaô 
Datapaã caî ruî thå program® (Iæ yoõ trù tï ruî á prograí largeò 
thaî 31Ë oî thå Starleô wheî iî thå 32Ë CPÍ mode¬ you'lì geô á 
"Baä Filå Load¢ error.© Iæ yoõ ruî ouô oæ room¬ trù deletinç thå 
comments® Yoõ caî alsï strinç severaì commandó oî eacè line® 
DRAW.COÍ seeó youò prograí aó onå lonç string¬ anä loadó iô intï 
memorù first¬ sï youò commanä linå caî aó widå aó 256 characters. 

Don'ô forgeô tï placå thå Starleô iî thå VT-10° modå viá thå 
OPTIOÎ commanä froí thå MENU® Otherwise¬ thå screeî wilì noô bå 
cleareä wheî DRAW.COÍ starts¬ anä escapå sequenceó wilì bå echoeä 
tï thå screen® DRAW.COÍ wilì reaä youò file¬ dra÷ thå picturå 
froí youò commands¬ theî waiô foò á keypress¬ cleaò thå screeî 
and quit.

Strangå thingó maù happeî iæ yoõ trù tï definå characteró largeò 
thaî 1µ dotó widå witè thå Á command¬ or forgeô tï inserô spaceó oò 
delimiteró wherå theù shoulä bå foò eacè command® I'vå kepô 
error-checkinç tï á minimuí tï keeğ thå prograí small® Don'ô bå Šafraid to experiment though, and have fun!

Iæ yoõ woulä likå thå sourcå codå tï DRAW¬ anä á dozeî otheò 
utilitieó written just for the Starlet, send $10 to:
     
     William H. Ball
     4255 Ancona Court
     Indianapolis, IN 46236


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                