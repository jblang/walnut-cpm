
                                                                11 August 1986
                                  Z-NEWS 507

Z  Tips.    Use ZCPR3 LLF utility, List Library Files,  to  quickly  determine 
files  contained  within a NULU-type library.  Show files on  console  command 
line:  LLF dir:<libname><cr> with LLF.COM along search path.  We keep ours  in 
ROOT directory.  With LX, LLF, LGET, and LHELP single-function tools available 
we  use multi-function NULU to create, organize, add to and delete files  from 
libraries.
     Don't forget to renew your subscription to Z-News!
     And no matter what you do, don't forget to grasp, absorb GH alias at  end 
of  Z-User's Corner below.  It's an alias not to miss, that creates a  thought 
revolt.
     --------------------------------------------------------------------
From Our Mail Box.   Okay, you asked for it.  A summary of our Software Update 
Service (SUS) related to utilities and files as announced in Z-News 506, in  a 
table:

     Location                       Single Disk    Six Months    One Year
     --------                       -----------    ----------    --------
     Continental USA                  $12.00         $47.00      $ 85.00
     Canada, Mexico, Alaska, Hawaii    14.00          53.00        97.00
     Europe, Japan, Australia          19.00          69.00       125.00

Expect  minimum  of one update disk in any two-month period, up to  two  disks 
maximum  per  month, 4 to 5 in six months, nine in typical year.   Here,  your 
chance  to  stay  current with ZCPR3 and  Z-System  community.   We  encourage 
economical  yearly  SUS  subscriptions.   Software,  diskette,  shipping   and 
handling included in above prices.
     Jim Parlett, Pittsburgh, PA, writes and asks, among other things,  "Could 
you  tell me whether I could order back issues [of Z-News], and how much  they 
are?"  You can and they are $12.00 for 24 issues, mailed at once, shipping and 
handling  included if continental USA.  We have all issues in stock, Jim.   Z-
News 308 has full policy.
     "Weather  is  too  hot to write much, but I do  appreciate  your  staff's 
restraint--got  my first case of Zinfandel shortly after Z-News 404 came  out.
Please  thank  'ole read-em-7' for me.  I am a little hacked  that  he  seemed 
surprised [at Trenton, Z-News 501] when he personally verified the east  coast 
shortage I so faithfully reported: forewarned..., is thirsty?
     "The  moving  finger writes, ...and moves on, eh?  Example:   Z-News  004 
asks, 'Who needs a RAM disk?'  Then from 502 we get 'Understand RAM as main... 
from  307."  Clearly Mr. Carey Dowd, writing from torrid Charlotte,  NC,  goes 
through his case too swiftly.

Z-User's  Corner.  A useful alias, especially for writers, is Word  Frequency, 
WF.   Does what "d" menu command line of Z-News 506 does but as an alias.   We 
use power of ARUNZ, written by Jay Sage, Newton Centre, MA, to avoid having to 
use  SETFILE  to  access  file  name  without  file  type,  to  have   simple, 
conventional  command line syntax.  ARUNZ works as Extended Command  Processor 
(ECP,  we  ready ourselves for Version 3.3 of) or is renamed  to  CMDRUN  (but 
first,  rename CMDRUN back to LX or LRUNZ, depending on what you normally  use 
with COMMAND.LBR), and uses ALIAS.CMD script file of aliases.

   if $1=//;echo $0 - word frequency;echo syntax: $0 [du:]<fn.ft><cr>;  <<
   else;ROOT:LX WORDFREQ $1;sak strike any key;ROOT:vtype $:1.frq;      <<
   era $:1.frq;fi

WF  has built-in help, as much as needed to remind what it is and how  to  use 
it.   Following  exit from WORDFREQ, VTYPE scans created FRQ  file,  a  sorted 
table  of  words  telling  how  many  times  each  is  used.   When  finished, 
automatically  erases  it.   Elegant!  (Our WORDFREQ  is  in  COMMAND.LBR;  LX 
quickly finds and runs it, bypassing search path and need for CMDRUN.)
     Another alias, useful to potentially recover deleted files:

     if nul $1;ROOT:unerase *.* l;else;ROOT:unerase $1;ROOT:diskrst;fi

We call it UNERA and has two modes, UNERA<cr> and UNERA <filemask><cr>.  First 
shows on console files potentially recoverable; second, actually recovers file 
or files depending on mask used.  Last section of second statement resets  and 
updates  disk directory system.  Latter is important when using ZRDOS  Version 
1.4 and beyond.  ZRDOS takes into consideration non-removable, fixed  storage, 
like  Winchester  and RAMdisk, and does not reset these drives on  entry,  for 
greatly  increased speed.  Such storage gets updated as changes are  made  and 
files close.  But when UNERASE is used, DISKRST is only way to update  changed 
directory after file recovery.
     We have generated lots of aliases, so many we don't remember their  names 
much  less what they do.  SEE alias quickly tells of files used by  CMDRUN  in 
default  COMMAND.LBR, Z-News 504.  Usually such command utility library  files 
and what they do have plenty of documentation available to study, hardcopy and 
online.  But for aliases, what do we have?  Nothing but what we provide.  What 
can  we do!  We create a single online H-L-P file describing each.  And as  we 
produce  aliases, we put descriptions of them into this HLP.  Of course,  some 
built-in help can be provided by using "IF $1=//;echo syntax: xxx nn"  condit-
ional  statement  at  or near beginning of script line, as  done  in  GS,  Get 
Spelling  alias of Z-News 506.  But for detailed assistance HLP system is  way 
to go.
     We  generate  "help"  files ZCPR3 style.  Such  files  can  be  extremely 
simple, non-indexed or indexed and tree-structured, depending upon your  needs 
and desires.  ZCPR3: The Manual, Chapter 4, describes what help files are  and 
how  to  generate and use them.  HELP.COM automates display of help  text;  we 
need but write the text in correct format.
     Let's  generate  an  extensible  "user-indexed" help  file,  we  call  it 
ALIASES.HLP,  starting  with entries GS, DIR, and SEE aliases we  created  and 
discussed  in  504/506.  Any text editor or word processor may be  used.   One 
screen can hold up to 36 alias references.  Here, menu (text between semicolon 
and  first colon) and individual descriptions (text between colons) are  short 
to  conserve  Z-News space.  File starts with  single  semicolon,  immediately 
followed by carriage (cursor) return:

;
                       Help System for Online Aliases

Online Aliases are described here.  Whenever an alias is created, place
details of its operation within this help file for later reference.

A - GS    Get Spelling            Directory Listing with options   DIR - B
C - SEE   Display COMMAND.LBR Files on Console

:a
GS uses Oasis Systems FIND utility to scan main dictionary, MAINDICT.CMP,
for word declared on command line.  Syntax is GS <word><cr>.  <word> may
contain wild cards "?" and "*" to assist in locating specific words
desired.

:b
DIR uses ZCPR3 transient DIRnn to display disk file directory using one or
more trailing options.  Options are A=All Files, S=System Files Only,
H=Horizontal Sort, V=Vertical Sort, and T=Sort by File Type/Name Toggle.

:c
SEE displays files contained in COMMAND.LBR.  Shows size, CRC values, etc.


Notice, as you add more aliases to list, you "index" single-keystroke  command 
character to ":" text describing item.  In sample above, next in line would be 
"D  -" followed by ":d" in help text.  Alphanumeric characters, A to  Z  (case 
unimportant)  and  0  to 9, may be used as indices.  But  order  or  usage  of 
letters  and  digits is unimportant.  No need to start with A.   Each  command 
character  is paired with a "colon" character.  With user-indexed help  menus, 
text may be placed anywhere on screen.
     That's  all there is to making HLP files.  More  complex,  tree-structure 
types  need  little  more  than  double  colons  added,  "::helpfile"  or  ":t 
:helpfile.typ", to function.

     Lots  more  detail about help files are found in The  Manual,  pages  121 
through  131.   Of course, examples of HLP files abound  covering  most  user-
aspects  of ZCPR3 and ZRDOS, over 40 files containing over 400k-bytes,  mostly 
squeezed!  Study them for ideas.
     We use an alias in ROOT directory to access help.  It's called HELP;  but 
first, HELP53.COM is renamed HLP.COM.  And it and all HLP files are placed  in 
A12:HELP  directory.   From  any  directory,  simply  type  HELP<cr>  or  HELP 
<helpfile><cr> to get help desired.  HELP alias:

              a12:;if nul $1;hlp zcpr3;else;hlp $1;fi;$d$u:

     Version 5.3 of HELP.COM permits using squeezed HLP files as text,  useful 
as  files  get large (over 4k-bytes) at saving disk storage space,  but  slows 
getting  first  screen  of  help.  And...in  case  you  can't  remember  which 
"helpfile" to use for what you need...
                    -------------------------------------
     We  have  kept  best  alias for now!   It  permits  quick  assessment  of 
available help files on system, beyond root-of-tree ZCPR3.HLP and  ZRDOS1.HLP, 
including  our  recently  created ALIASES.HLP, and allows desired  one  to  be 
immediately  used.   We call alias Get Help, GH, and it uses  Dreas  Nielsen's 
GETVAR and RESOLVE shell support utilities briefly discussed in Z-News 408 and 
505.  Utilities use routines from Richard Conn's SH.COM named variable  shell.
Here, here is something to sink your teeth into, for sure!

    HELP:;ROOT:dir14 *.h?p h;ROOT:quiet s;ROOT:getvar ghelp enter       <<
    desired help file by name -;ROOT:resolve hlp %ghelp;ROOT:quiet r;$d$u:

We  walk through GH alias.  Log into HELP directory (A12:) and then  run  from 
ROOT:  directory, DIR14 not an alias in this case, on help files with mask  to 
show files of type HLP and HQP, straight and squeezed.  Go into quiet mode  to 
suppress  utility headers and messages.  With files showing on screen,  prompt 
operator for one to use, "enter desired help file by name - ".  GETVAR  places 
operator's response into variable named "ghelp" which is located automatically 
in  ROOT  file SH.VAR.  (Same "ghelp" is used over and over, each time  GH  is 
used.)   Next,  RESOLVE  sets  up  main  command  sting,  consisting  of   HLP 
(HELP53.COM  renamed)  followed by expanded "ghelp" variable  (our  operator's 
chosen  HLP  or HQP file).  (Notice variable "%" flag convention  of  RESOLVE, 
same  as SH and VFILER).  And now, reset QUIET flag for normal operation,  log 
back into directory (an abstract place) from where alias was called.
     Calling  GH couldn't be simpler:  gh<cr> is it, from command line of  any 
directory on your system (even from VFILER, VMENU, or MENU).  What we see:


                   DIRectory, Version 1.4 01/22/86
ALIAS   .HQP   4 | ALIASES .HLP   8 | ARUNZ   .HQP   8 | CAT     .HQP  24 
CMDFILES.HQP  16 | COMP    .HQP   4 | COMPARE .HQP   4 | DIRS    .HQP  16
DPROG11 .HQP   8 | DU3     .HQP  28 | HELP    .HLP   4 | HELPSYS .HQP  20
HSH     .HQP   4 | IF      .HQP   8 | IO      .HQP   8 | LUZ3    .HQP   8
MENU    .HQP  24 | MU3     .HQP   8 | NDIRS   .HQP  12 | NULU    .HQP  20
PUBLIC  .HQP   4 | SH      .HQP  12 | SHUTILS .HQP   4 | SYSRCP  .HQP   8
TERM3   .HLP   4 | VFILER  .HQP  16 | VMENU   .HQP  20 | VTYPE   .HQP   4
Z3RES   .HQP   8 | Z3TCAP  .HQP  24 | Z3UTIL1 .HQP  20 | Z3UTIL2 .HQP  16
Z3UTIL3 .HQP   4 | ZCPR3   .HLP   4 | ZDU     .HQP   4 | ZRDOS1  .HLP   8
ZRDOS1A .HQP   8 | ZRDOS1B .HLP   4 | ZRDOS1C .HQP  12 | ZRDOS1D .HQP   4
ZRDOS1E .HQP   4
        A12:HELP -- 41 files using 428k (1304k remain of 4968k total)

ENTER DESIRED HELP FILE BY NAME - XHMWI


After  entering  choice  followed by carriage return, selected  help  file  is 
displayed.   Help  files ZCPR3 and ZRDOS1 are "tree-ed" into  many  other  H?P 
files.   For  example,  ALIAS.HQP has its own internal menu but  is  in  menu, 
structure of ZCPR3.HLP.  SHUTLS.HQP is for GETVAR and RESOLVE.
     Use  utility  SHDEFINE  to create and see  variables  and  their  equates 
located in SH.VAR, always in ROOT directory.  After listing (L) variables with 
their  equals,  an  editor mode (E) permits  changing  variable  values,  even 
deleting  (D)  them.   While  into  shell utilities  you  might  wish  to  try 
SHVAR.COM.   Similar to SHDEFINE but command line driven, works with only  one 
variable at a time.  Great for changing variable values on-the-fly, from  menu 
and  alias lines.  Another, SHFILE permits displaying and changing  file  name 
shell variables are stored in, file located in ROOT directory.  Study  SH.HLP, 
SHUTILS.HLP,  and  Chapter 6 along with shell utility command  definitions  of 
ZCPR3: The Manual, pages 84-90, 149-151.
     Tip:   When writing scripts, don't put directory (DU or DIR) location  in 
front of file to be executed if that file is in COMMAND.LBR.  ZCPR3  automati-
cally  finds such file using its CMDRUN facility.  For maximum speed, file  is 
left out of library and its location then declared in command line script.  We 
use COMMAND.LBR for files where speed is not critical, for seldom-used  files, 
to get them out of sight, use SEE to remind what is therein.
     Another  tip:   Do  place  alias  names,  like  GH  and  GS,  with  brief 
descriptions of their use, in MENU and VMENU, even VFILER CMD, displays off in 
a  corner as reminders-of-availability from built-in "Z" command line.   GH...
Oh!  Wow!  Show this alias to your PC DOS and Unix friends.
     Aliases  GH, GS, DIR, SEE, and HELP, and greatly expanded,  appropriately 
highlighted  ALIASES.HLP, plus surprises, are on Z-Nodes (and on SUS,  update-
service  diskette  as  individual  files,  soon  to  be  mailed)  within  file 
ALIAS#1.LBR.   Who comes up with an HLP file detailing files  in  COMMAND.LBR?
Send us your generally useful creations!
     Don't  forget to renew your subscription to newsletter...only $24.00  per 
year, delivered every two weeks.  Send in your renewal order now!

Z-Node  Corner.   Jon Schneider, Z-Node #39 Sysop and TRS-80 expert, El  Paso, 
TX, has his RAS running with TRS-80 Model 4 HD64180 upgrade of M.A.N  Systems, 
reported  in  Z-News  505.  Add-on board is called TR-XL180tm  and  sells  for 
$325.00.  If interested, get Jon's evaluation by calling 915/592-4976.   Then, 
if still interested call M.A.N at 405/395-3849.
     Users of ICD's XL-M180tm S-100 computer boards should stay in touch  with 
Wells Brimhall, Z-Node #52 Sysop, 602/996-8739.  He designs and codes a  super 
Z-System BIOS for this HD64180-based SBC.
     VFILER  torch  picked up by Jay Sage, Sysop for Z-Node  #3  and  Z-System 
Good-Neighbor  Helper,  617-965-7259.  Extending works of Joe  Wright  and  Al 
Dunsmuir on Richard Conn's screen oriented file manipulation creation, program 
gets  ever  better.   Unreleased  Version  4.1f  has  ability  to  use  screen 
highlighting  in CMD file as (V)MENU, has "home" (default, from  where  VFILER 
was called) directory parameters, %r and %h, to return to disk/user area  from 
which  command  call came from, seven equate options  selectable  from  within 
program,  and extension of number of macro commands from 0-9 to  include  A-Z, 
using  lead-in  character.   Escape character, <esc>, is  default  for  letter 
commands.   Original ten numbers continue to work as before.  Group  archiving 
command  now archives only tagged and changed files.  Pointer returns to  last 
Current  File  after running a user macro or "Z" command and after  using  "A" 
sort  command.   Several other changes make life better for user.    File  has 
crossed  14k-byte  boundary,  might as well add  squeeze  and  crunch/uncrunch 
functions.  Yes, both!  Jay continues, with Version 4.2 to have ability to run 
user macro (0 to 9, <esc> A to Z) on tagged files.  Good luck, Jay.
     Another  Sysop,  Bob  Peddicord, Z-Node  #60,  503/597-2066,  author  of, 
updates  TALIAS  to Version 1.5.  We have four alias generators  and  editors. 
Original ALIAS by Richard Conn, BALIAS by Paul Pomerleau, VALIAS by Jay  Sage, 
and near perfect TALIAS.  All have strengths.  VALIAS is most elegant; BALIAS, 
fastest  and  very  WordStar-like; TALIAS, somewhere in  between;  and  ALIAS, 
simplest and likely most dependable.  Ain't life sweet!
     Sysop  Steve  Kitahata, Z-Node #57, 213/532-3336,  Gardena,  CA,  created 
HOLDZ  (later  updated  by  Bruce Morgen) to  allow  delays,  long  delays  if 
necessary,  before and between commands.  A super SAK-like tool--but for  time 
only--use  when  delays  of hours or minutes are needed  to  control  computer 
operations.

Lunch  Break.     High Tech Research (Bill Nesting, Redding, CA,  Z-News  503) 
makes their "Handyman" utility ZRDOS compatible.  That certainly opens an  up-
to-now  closed  market.   If  interested,  call  HTR  800/446-3220,  -3223  if 
California.
     We should have guessed but did not.  Squeezing our benchmark SCAN.EI file 
resulted  in  a  compression of 24 to 1...unsqueezed file  is  68k-bytes  (544 
records), squeezed is 3k (23 records).  Repetition of main "#" character  used 
for  "text"  permits  a good squeeze is be obtained.  Such  a  deal!   CRUNCH, 
another compression program, brought file down to only 10 records, 54 to 1!
     Quick-Tasktm real-time kernel is 100% compatible with ZAS and ZLINK.  REL 
file structuring makes linkage of user tasks quick and easy.  Also  compatible 
with 2500AD assembler.
     Version  2.4  of ZAS is shipping.  About 8 bugs were  removed  in  update 
process.  Patrick O'Connell, its author, says Version 2.5 will be a full ZCPR3 
utility  and  use  Z-System facilities to indicate to an  editor  where  first 
assembly  error, if one, is in source file.  Boy (girl?), we have wanted  both 
these features for a long time.
     John  Otken  reports  DSD will be upgraded  to  understand  full  HD64180 
instruction  set  "real soon now, you hear!"  We have  beta-test  version,  it 
looks good!  Still sells for $129.95 plus S&H.
     Clarification.   Z-Index,  massive index to Z-News, announced  in  Z-News 
506, is provided bundled with renewals only, is a one-time special offer  that 
expires  on 31 August 1986.  First-time subscribers may purchase  Z-Index  for 
$8.95 plus $4.00 S&H, continental USA.
     Japan's  semiconductor  shipments  as percentage of USA's  is  quoted  at 
beginning  of  1984 as 53%; beginning of '85, 82%; and '86, 115%.   Seems  USA 
production  is  falling  behind  Japan at an  alarming  rate.   US  government 
"solution"  is  political,  but  US government itself  is  more  problem  than 
solution, personifies humanity's lower attributes, that of slothfulness.  Long 
range,  real  solution  is  with our industry, its people,  and  a  change  of 
attitude about work.

  "Now that my bones are grown weaker, my brain seems stronger."--anonymous
     ====================================================================
Of Cabbages and Kings.   How are attitudes changed?  Are they not elements  of 
our  emotions  which we normally can't control?  But control is what  life  is 
about  and  comes from learning those things necessary to be at ease,  not  of 
ease,  both short term (tomorrow) and long (next generation of  our  species).
Do  only things we like to do, feel good doing, and we do them well, like  our 
hobbies.  Do things we don't like to do and they are done poorly, like the job 
for an employer not having our high regard.  Most people do not like the  jobs 
they  make  a  living at.  Why not?  They think these jobs are  just  for  the 
employer's  benefit,  to make him more money than should be  make  from  their 
labors.  But think of your left hand washing your right.  Which one of the two 
is  superior!  One cannot BE without the other.  So find a job  that  commands 
your respect and it is performed with gusto.  Rewards are high for jobs  well-
done!  Okay?  See you down the lines...

                                                                 Echelon, Inc.
                                                       885 N. San Antonio Road
                                                       Los Altos, CA 94022 USA
                                                       Telephone: 415/948-3820
                                            Z-Node Central (RAS): 415/489-9005

Trademarks:   Bookshelf,  Ampro Computers; SB180, Micromint;  PRO-180,  Magnum 
Digital;  ON!, Oneac; DT42, The SemiDisk, Deep Thought 42,  SemiDisk  Systems; 
TR-XL180,  M.A.N,  Systems; HD64180, Hitachi;  CLIPPER,  Fairchild;  Z-System, 
ZCPR3,  ZRDOS,  Z-Tools, Zas, Zlink, Z-Msg, Term3,  Quick-Task,  Lasting-Value 
Software,  Echelon;  Unix,  AT&T Bell Laboratories;  GT180,  Turbo  Modula-II, 
Borland  International;  Lotus 1-2-3, Lotus Development; TWP, The  Word  Plus, 
Oasis  Systems; C/80, Software Toolworks; BDS-C, BD Software; SIFT,  Siftsoft; 
SEARCH, CompuMagic; Electra-Find, O'Neill Software.



                  *                                        *



                               Z sets you FREE!



                  *                                        *


Z-News  507 is Copyright 1986 Echelon, Inc.  All Rights Reserved.   Permission 
to  reprint,  wholly or partially, automatically granted if source  credit  is 
given to Echelon.
s Rese