File: LU310.UPD 		72 lines		Date: 85-01-01
From: Gary P. Novosielski
To:   All LU Users
Subj: New LU version 3.10

Version 3.10 of the Library Utility is being released today.  It has
been tested under CP/M80 v2.2 and is expected to run properly under
CP/M+ as well.

Here is a short description of the changes from version 3.00 to 3.10.
Please use it until the revised document file, LU310.DOC is available,
which should be real soon now.

1.  Bug Fix in -Reorg to another drive.  Under 3.00 if you had reorgan-
    ized FOO.LBR from A: to B:, and there was _already_ a FOO.LBR on B:,
    LU would not have properly erased the old file, causing duplicate
    file names.  Yuchh.  I found this one by accident, rather than from
    a bug report, so I guess no one has ever been bitten by this one.
    Anyhow, it's fixed now.

2.  Change in reorganization logic.  If reorganization is done from one
    user/drive to another, the old copy of the library will no longer be
    deleted.  This gives some backup protection from Old Man Murphy.  The
    old copy will still be erased when reorganization is done within a
    single user/drive.

3.  I've hacked the directed I/O code to allow the -U operator to be used
    even if directed I/O (<input and >log) files are open.  This should
    make directed I/O more useable.  Leor's original DIO would lose track
    of the DIO files when the default drive was changed, so -U had been
    locked out in v3.00

4.  In response to user requests, a default library name will no longer
    be opened automatically when operands are being read from the console
    (stdin).  Instead, an error message will be issued saying that no
    library is open.  The default library LIBRARY.LBR will still be used
    if operands are being read from command line arguments, and no -O
    (open) is done.

5.  New operator -H (Help).  In response to user requests, a brief one-
    screen summary of operators, and the operands they expect, is now
    displayed by typing -H.  It is by no means an online user manual,
    just a memory jogger.  I knew it was time for this when I started to
    forget the commands myself!  Must be getting old.

6.  Version 3.10 still does not support the date/time stamping features
    defined in the new standard (LUDEF5) but now conforms to that stand-
    ard as a non-supporting program.  It preserves pre-existing stamps
    when appropriate, and will zero out any stamps which are made incor-
    rect by changes to the files or directory.	Pad counts, as defined
    in the standard, are tolerated, but not used, as they have no mean-
    ing under a CP/M-only environment.

7.  In bumming the extra space for the help code (the program is still
    under 20k on disk) I cleaned and tightened some of the logic, which
    may cause some cosmetic differences.  You may notice, for example,
    that the last operator used will show up in the prompt even if it
    was -L, -R, or -C, which take no operands.	There is no functional
    difference, though; operands will still be ignored by these opera-
    tors.

For bug reports, questions, etc., please contact me via:

Phone (voice):		(201)935-4087		Eves and weekends.
Compuserve:		70160,120		GO PCS-47 or GO EMA-1
MCI Mail:		GNOVOSIELSKI
WUI Telex:		650-195-2395		6501952395 MCI

Regards,
Gary Novosielski
