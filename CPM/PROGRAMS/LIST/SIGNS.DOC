.pn
.mt3
.mb7
                                  SIGNS.DOC
                                 Version 4.1

                              by Robert W. Bloom
                               22 December 1986

.heSIGNS.DOC                                                          Version 4.0
Release Notice:

     Signó anä alì associateä fileó (Signs¬ Gsigns¬ Font#¬ MakeFont, etc.© arå 
freelù releaseä tï thå publiã foò non-profiô use®  Iæ anybody'ó goinç tï 
profit¬ iô shoulä bå me¡  Anywhat¬ thió ió mù contributioî foò alì thå greaô 
programó I'vå receiveä freeº  NSWP¬ NULU¬ VDO¬ ZCPR¬ SQ/UNSQ¬ etc®  Thankó 
guys!


Revision History:

Signs:
     1.ø - Marcè 86¬ firsô versions¬ menõ driven®  GSignó created.
     2.ø - Maù 86¬ alì screeî oriented.
     3.ø - Juî 86¬ biô mappeä fonô files¬ releaseä w/MakeFonô Versioî 2.0®  
Ne÷ featuresº inverså video¬ useò changeablå singlå blocë character¬ inter-
characteò spacing¬ block_chaò useä foò filì iî inverså video.
     4.0 - 25 Oct 86, added bit-mapped output, .DAT assumed for font-files.
     4.± - 2· Ocô 86¬ erroró correctedº defaulô filå extensions¬ adä initiaì 
<cr¾ foò printinç set-up¬ correcô somå initializatioî problems®  Librarù 
released with 3 font files (font1, font2, gothfont)
     4.± - 2² Deã 86¬ MS-DOÓ versioî releaseä aó onå continuouó sourcå filå 
(no include files needed) and patched so that 'Gothfont' fit.

MakeFont:
    1.x - March 86, creates byte-mapped font files
    2.0 - Jun 86, creates bit- mapped font files
    2.1 - 8 Jul 86, minor change to open/close file routine to report errors.
    2.2 - (lost) 
    2.3 - 27 Oct 86, made filename extensions optional.

GSigns
    1.2 - Version for Pascal MT+, byte-mapped font files
    3.2á - 2¸ Juì 86¬ Versioî 3.² oæ Signó witè alì screeî handlinç anä 
printeò codeó removed®  Maiî codå routineó reworkeä foò menu-redisplaù oî 
first entry and demand.

GMakeFnt
    1.0 - Version for Pascal MT+, creates byte-mapped font files for Gsigns12.


Background:

     É waó neveò happù witè thå sign- anä banner-makinç programó availablå foò 
CP/M®  Surå therå werå á numbeò oæ gooä ones¬ speciallù 'GOTHIC,§ buô nonå 
havå enougè variabilitù tï suiô me®  Bù variability¬ É meaî thå capabilitù tï 
changå sizes¬ fonts¬ anä papeò positioninç tï creatå whateveò É wanted®  Whaô 
É reallù wanteä waó á 'Prinô Shop§ foò CP/M-80®  Alas¬ it'ó noô availablå anä 
iô lookó aó iæ nï onå ió developinç anù ne÷ stufæ foò mù favoritå OS.
Š     I though the problem was solved when I ran across a set of two programs
by Ken Crook in Pascal.  I was just learning Pascal, so I thought this would
be a good way to get some fun education.  Unfortunately, the program was not
written very well - although some good options were present, I couldn't even
compile the programs (called 'sign' and 'banner') as they wouldn't fit in
memory.  (CP/M-80, TurboPascal, 63k, error messages off.)  The main problem
was that all of the character fonts were held in memory at one time.  Even
eliminating all the symbols and keeping just numbers and upper case letters
yielded a com file of 36k.  (Besides, input was taken from a file not the
console, which was a pain.)


Features:

     So I decided to start over and write my own.  Major features of my
program are:

          - Fonts are held in an external data file and a random access method
reads only the required characters into memory when they are needed.
Different data files may hold different fonts.

          - Signs and Banners are made with the same program by changing an
option.  They may be output to the console, a file, or lst: device (printer).
Lots of other options are available.  (see below)

          - Á separatå prograí ió provideä tï creatå fonô files®  Thå inpuô tï 
thå makefonô prograí ió á filå modifiablå bù anù text-editor®  (É maù writå á 
separatå fonô editoò ió iî thå workó - ASCIÉ fonô fileó caî bå quitå large.)

          - Twï fonô setó arå suppliedº onå witè characteró thaô arå uğ tï 1² 
unitó higè countinç á twï blocë desendeò anä uğ tï 1° blockó wide» anä onå 
whicè ió fouò timeó wideò anä twicå aó high®  Characteró lesó thaî thå maximuí 
widtè arå printeä proportionally®  (Aî extra-largå font¬ froí 'GOTHIC§ ió alsï 
supplied for those with lots of RAM.)

          - Iæ printing¬ onå caî changå thå cpé anä lpé froí thå menõ whicè 
automaticallù adjustó thå printer®  Inpuô lineó arå checkeä tï seå iæ theù 
wilì fit®  Normaì (80© anä widå (132© terminals¬ aó welì aó smalì (8"© anä 
largå (14"© printeró arå correctlù handled®  Thå useò caî eveî requesô outpuô 
iî "reverså video¢ (Whitå letters¬ blacë backgrounä insteaä oæ blacë letteró 
oî á whitå background.)

          - Thå letteró oæ thå outpuô sign/banneò caî bå madå oæ thå letteò 
itself¬ anù singlå character¬ á 'overstrike§ blocë tï makå á nicå blacë soliä 
blocë oò individuaì dotó usinç thå graphicó modå oæ thå printer®  (Naturallù 
thå graphicó dot-modå wilì creatå mucè smalleò letteró anä ió stronglù printeò 
dependant®  Currentlù iô ió writteî foò thå IDÓ (oò DataProducts© printer®  
OKI is very similar.)

     É thinë you'lì finä thaô thå prograí ió self-explanatory®  Oncå selected¬ 
á optioî doeó noô changå untiì manuallù changed®  Thió allowó changinç jusô 
onå optioî quickly®  Somå optionó eliminatå others.


Files:
Š     Therå arå fouò basiã librariesº  TSIGNS¬ MSIGNS¬ ISIGNS¬ anä GSIGNS®  
Generallù speaking¬ TSIGNÓ containó sources¬ MSIGNÓ contaiî generiã 
executableó (CP/M-80)¬ GSIGNÓ generiã Z8° codå anä executables¬ anä ISIGNÓ aî 
MS-DOÓ versioî witè sourcå includinç á extra-largå gothiã font®  Mosô fileó 
arå crunched, squeezed and archived.

     Iæ yoõ havå CP/m-8° TurboPascal¬ alì yoõ neeä ió TSIGNS.LBR®  Iæ yoõ 
don'ô buô caî ruî Z8° code¬ geô GSIGNS oò later®  Iæ alì yoõ caî ruî ió 808° 
codå yoõ neeä ió MSIGNS®  IBÍ peoplå geô ISIGNÓ anä thå extra-largå GOTHIÃ 
font®  Major file break-down is:

     TSIGNS contains:

          READ.ME - unsqueezed introduction to signs.
          FONT1.ASC \ 
          FONT2.ASC / ASCII files of character fonts, modify at will.  Use
               witè MakeFonô tï creatå FONT1.DAÔ anä FONT2.DAÔ whicè ió useä 
               aó thå fonô fileó bù SIGNS.COM®  FONT± ió 10x12¬ FONT² ió 
               40x24.
          MAKEFONT.PAÓ - (MakeFont© sourcå codå foò fonô generatoò - askó foò 
               inpuô anä outpuô filenames®  Changeó .ASÃ fonô filå intï á .DAÔ 
               fonô file.
          SIGNS.PAS  \
          SIGNS0.PAS  \
          SIGNS1.PAS   \  - source code for sign generator.
          SIGNS2.PAS   /
          SIGNS3.PAÓ  ¯                
          SIGNS4.PAS /
          SIGNS.IN - sample file input, contains all printable characters.
          SIGNS.OUT - sample output file from signs.in
          SIGNS.DOC - this file.
          POP.PAS - make your machine go 'pop'

     MSIGNS Contains:

          GSIGNS12.SRC - Generic Pascal version (no TurboPascal functions and
               considerably less sophisicated.)
          GSIGNS12.COM - CP/M-80 object code from above
          GMAKEFNT.SRC - source code for font generator - asks for input and
               output filenames.
          GMAKEFNT.COM - CP/M-80 object code (max size 20w by 24h)
          GCHARS.DAT - created by GMAKEFNT, used by GSIGNS12.
          GFONT.ASÃ - olä copù oæ FONT1.ASÃ (iî á slightlù differenô format© 
               aó useä iî thå SIGNS.LBÒ abovå anä useä tï creatå GCHARS.DAÔ 
               (10x1² font)
          GREAD.ME - very brief introduction to gsigns.

     GSIGNS Contains:
          GSIGNS32.PAS - Source, but if you need source use the full SIGNS.
          GSIGNS32.COM - CP/M-80 object code (Z80)
          FONT1.DAT \ 
          FONT2.DAT / font files, ready to run
          MAKEFONT.COÍ - fonô generatoò (objecô codå oæ sourcå iî thå fulì 
               SIGNÓ library®  Tï ruî this¬ you'lì alsï neeä thå sourceó foò 
               thå Fonô fileó from TSIGNS.
Š     ISIGNS contains:
          GOTHFONT.FÆ - Á filå oæ alì characteró aó outpuô bù 'GOTHIC§ iî 
               banneò form
          GOTHMASC.PAÓ - á Pascaì prograí tï converô thå GOTHFONT.FÆ filå tï á 
               GOTHFONT.ASÃ filå whicè MakeFonô coulä read®  (Noteº this .ASÃ 
               file still needs some touch up before converting to .DAT)
          GOTHFONT.ASC - the ASCII font file after being touched-up
          GOTHSN.PAS - Signs source patched for the gothic font
          GOTHMF.PAS - MakeFont source patched for the gothic font
          POP.PAS - make your machine go 'pop'

Compiling:

     Executablå fileó arå includeä foò GSIGNS¬ MAKEFONÔ anä iî ISIGNS®  
GSIGNS12.COÍ anä GMAKEFNÔ werå createä foò CP/M-8° bù DR'ó Pascaì MT« sï 
shoulä ruî oî nearlù anythinç witè á 8080¬ Z8° oò compatible®  Thå 
GSIGNS32.COÍ versioî waó compileä witè TurboPascaì anä sï needó á Z80®  Thå 
fulì Signó versioî haó tï bå compilå foò youò hardwarå usinç á Pascaì 
compiler®  TurboPascaì wilì worë besô aó severaì Turbo-specifiã functionó arå 
used®  Yoõ wilì alsï havå tï creatå á ne÷ FONT#.DAÔ fileó froí FONT#.ASÃ usinç 
MakeFonô beforå runninç SIGNS®  Seå belo÷ foò hardwarå anä versioî specifiã 
comments®  Notå thaô thå font.DAÔ fileó arå NOÔ interchangeablå accrosó 
differenô Pascaì compilers®  GSIGNS1² useó differenô font.daô fileó thaî 
GSIGNS3² anä SIGNS40®  Likewise¬ thå MS-DOÓ font.daô fileó arå differenô thaî 
CP/M's.  COM files in ISIGNS were created on a full-up Zenith 248.

     GSIGNS1² ió alsï considerablù lesó capable» É haä tï creatå thå generiã 
versioî foò á homeworë assignmenô foò á clasó I'í took» it'ó throwî iî herå 
'foò free.§  Somå SIGNÓ functionó NOÔ includeä iî GSIGNÓ12 areº 

          ® Heø input¬ 
          . bit-mapped font files,
          ® fontó witè greateò thaî 9µ characters¬ 
          . reporting of font size,
          ® direcô lisô devicå outpuô noò anù printeò codeó at all,
          . screen-orienteä menus¬ 
          . concurrenô parameteò editinç anä texô input.

Iô haó ² menusº á controì anä á parameteò menu®  Notå thaô thå .DAÔ fonô fileó 
arå *notª compatiblå witè Signs®  Gsignó arå bytå mapped¬ Signó arå biô 
mapped®  Thå .DAÔ fileó createä bù GmakeFnô wilì bå ¸ timeó larger¡  Thå .ASÃ 
fileó arå compatible®  Excuteablå versioî havå beeî compileä witè á maximuí 2° 
widå bù 2´ higè fonô size®  Thå Gchars.DAÔ filå includeä ió 10x12¬ anä waó 
createä froí FONT1.ASÃ oæ Signs®  Somå Gsignó optionó havå differencå calì 
letteró thaî Signs®  Suggestionº buù TurboPascal!

     GSIGNS3² haó mosô oæ thå functionalitù oæ SIGNS4° witè severaì 
significanô omissions®  Nï screeî anä printeò codeó arå included¬ anä bit-
mappeä outputó arå noô supported®  Onå caî dï practicallù alì thå samå 
operationó witè botè (excepô thå bit-mappeä outpuô oæ course)¬ buô thå prograí 
doesn'ô havå aó mucè 'dash§ anä 'flash'®  Minimaì belló anä whistleó arå 
provided.


Notes:
Š     - Thå ASÃ fontfileó musô bå iî ASCIÉ characteò ordeò anä follo÷ á 
specifiã formaô aó detaileä belo÷ tï bå successfullù converteä bù MakeFonô.

     - somå optionó arå disableä witè otheò options®  Foò instance¬ iæ onå 
selectó consolå output¬ yoõ don'ô seå any printer options.  Oò iæ yoõ enteò á 
giveî lefô margiî tï use¬ thå outpuô centerinç optioî ió disabled®  (Tï centeò 
thå outpuô afteò zeroinç á previously-giveî lefô margin¬ onå haó tï manuaìly 
enteò 'y§ tï centerinç aó á non-zerï lefô margiî setó centerinç tï 'no'.©  
Non-applicablå menõ itemó arå noô displayed.

     - thå sourcå codå (SIGNS.PAÓ anä thå fivå SIGNS#.PAS© aó supplieä iî thå 
librarù wilì compilå tï á filå witè TurboPascaì iî á minimuí 56ë CP/M-8° 
system®  Alternatively¬ onå caî ediô SIGNS.PAS¬ removå thå includå lineó 
(whicè looë likå {$É SIGNS#}© anä copù iî thå SIGNS#.PAÓ fileó aô thoså 
locationó tï makå onå lonç sourcå codå file®  Iæ combineä intï onå lonç sourcå 
iô ió compileablå directlù oî thå 16-biô PCó witè TurboPascal®  (É wilì *notª 
saù thå magiã threå letters!)

     - bewarå oæ hardwarå differenceó iî printers®  Iæ iî doubt¬ turî dumğ 
printer switch on and avoid bit-mapped graphics output.


Options:

Upoî entrù tï thå prograí onå ió placeä directlù iî "changå parameters¢ mode®  
Á optionó menõ ió shown® (seå below©  Upoî entrù oæ á 'X§ oò <cr>¬ onå ió 
placeä iî "inpuô text¢ mode®  Iî thió modå oæ controì characteró ió shown®  
Onå can:

     - send a formfeed to the printer ('^F' or '^L'),
     - send a reverse formfeed to printer to return to TOF ('^T'),
     - goto the options menu and change the program parameters ('^P'),
     - exit program ('^C' or '^D'),
     - backspace ('^H' or <del>),
     - ask to redisplay the menu again ('^R'),
     - delete entered line and start over ('^X'), or
     - enter alternate input routine to enter hex characters ('^A')
     - anything else is entered into the line to be printed.

(You CAN mix input and control characters, i.e. enter the input line, strike
á ^Ğ tï changå thå parameters¬ anä returî tï inpuô linå withouô losinç 
anything.)

Thå alternatå inpuô routinå (^A© promptó yoõ tï enteò á HEØ codå oæ á 
character®  Theså caî bå puô tï gooä uså iæ yoõ havå defineä morå thaî thå 
standarä 9¶ characteró iî thå fontfile®  Entrieó lesó thaî 20È oò greateò thaî 
FFè arå rejected¬ otheró arå appendeä tï thå inpuô string®  Thå decimaì valuå 
ió echoeä aó thå characteò ió appended®  Enteò á <cr¾ tï returî tï normaì 
input®  Á run-timå erroò occuró iæ thå characteò requesteä haó á HEØ codå 
largeò thaî thå number of records in the font file, so don't do that.

On the options menu one can change:

     - Font_file:“  Onå caî changå thå namå oæ thå fonô filå tï bå useä aô anù 
time®  Iæ thå filenamå entereä iô noô found¬ aî erroò messagå anä '????§ wilì 
bå showî foò thå filename®  Iæ found¬ thå sizå oæ thå fonô wilì bå shown®  Aî Šfilename extension of .DAT will be assumed for all entered filenames.

     - Sign_type:  Signs are horizontally printed across page, banners are
vertically printed down page

     - Block_type:“  Thå characteò thaô makeó uğ thå signó caî eitheò bå thå 
letteò printed¬ soliä block¬ oò bit-mapped®  Blockó maù bå madå twï ways¬ bù 
overstrikinç severaì characteró oò bù sendinç á printeò á singlå user-defineä 
character®  (Thå defaulô singlå blocë characteò ió á 7Æ whicè printó á blocë 
iî á singlå pasó oî mù IDÓ printeò - thió probablù wilì noô worë foò otheò 
typå printers.©  Iæ onå selectó singlå block¬ iô wilì asë whaô characteò tï 
send®  Foò bit-mapping¬ eacè 'block§ becomeó á singlå doô iî thå graphicó modå 
oî á printer®  Foò mù printeò witè 8´ dot/inch¬ thå outpuô linå ió ¸ incheó oò 
67² 'characters§ wide®  Wheî enterinç biô mode¬ thå widtè oæ thå outpuô linå 
ió automaticallù seô bù assigninç Max_Lengtè tï Given_width®  Seô Given_Widtè 
bacë tï zerï tï returî tï autosizing.

     - Mult_w,Mult_h:“  Thå outpuô maù bå doubled¬ tripled¬ etc® iî botè widtè 
anä height®  Enteò youò choice¬ thå prograí wilì watcè foò overflow.

     - Given_offset:“  Enteò ho÷ manù characteró sholä bå senô beforå printinç 
signó oò banner®  Thió haó thå effecô oæ á lefô margiî foò signó oò movinç 
banneò 'left§ oò 'right§ oî thå outpuô device®  (Bù playinç witè thå giveî 
offseô anä reverså formfeed¬ onå caî geô multiplå lineó iî Banneò format.)

     - Given_width:“  Iæ noô zero¬ thå prograí wilì uså thió figurå foò thå 
maximuí numbeò oæ characteró peò outpuô line®  Alsï centering¬ iæ on¬ wilì bå 
baseä oî thió widtè iæ noô zero®  Automaticallù seô tï Max_Lengtè upoî 
entering bit-mapped mode (block_type = bit).

     - Centering:“  Iæ nï giveî offset¬ answeò iæ outpuô bå centereä oî pagå oò 
flusè tï lefô margin.

     - Intercharacter_spacing:“  Allowó onå tï changå thå amounô oæ blanë spacå 
betweeî characteró output®  (Á normaì spacå ió ¶ blockó widå [10x1² font]¬ anä 
á normaì inter-characteò spacå ió ± blocë wide.)

     - Inverse_video:“  Doeó whaô yoõ thinkº  spaceó arå printeä aó thå 
character¬ anä thå characteò ió printeä aó á space®  Suggesô usinç blockó aó 
outpuô - banneró looë strangå witè letteró (trù it!)®  Signó arå madå alì oæ 
thå firsô characteò iî thå line®  Alì fullù blanë lineó arå filleä witè 'x§ 
anä alì lineó arå filleä ouô tï thå availablå widtè lesó one®  Noô availablå 
in bit-mapped graphics output mode.

     - Input_device:“  Onå caî enteò thå outpuô lineó onå aô á timå froí thå 
keyboarä oò takå theí iî á buncè froí á designateä texô file®  Thå defaulô 
filenamå ió SIGNS.IN®  Iæ inpuô froí á file¬ onå caî specifù ho÷ manù copieó 
yoõ want®  Á formfeeä ió senô betweeî copieó iæ outpuô tï á printer.

     - Output_device:“  Specifù outpuô shoulä bå senô tï thå consolå screen¬ á 
texô file¬ oò thå lstº device®  Iæ recordinç outpuô iî á file¬ thå defaulô 
namå ió SIGNS.OUT®  Iæ printing¬ onå canº  enteò whaô pitcè shoulä bå useä (1° 
pica¬ 1² elite¬ 16.µ squeezeä oò 2° tinù [squeezeä giveó 13² characteró peò 8¢ 
line])» ho÷ manù lineó peò incè shoulä bå useä (6¬ 8¬ 10¬ oò 12)» anä coloò 
(black¬ blue¬ greeî oò red).
Š     - Device_size:“  Iæ printing¬ indicatå whetheò printeò ió 8¢ widå oò 14¢ 
wide®  Iæ displayinç oî screen¬ indicatå whetheò terminaì ió 8° characteró 
widå oò 132®  Outpuô widtè foò filå outpuô ió whateveò waó previouslù seô witè 
á maximuî oæ Max_Lengtè (672 characters.©  Specifù á giveî widtè iæ yoõ wanô 
centerinç tï á different width.

     - Dumb_Printer:“  Turninç thió flaç oî eliminateä alì controì codeó senô 
tï thå printer®  Tï geô thå variouó linå anä characteò spacinç onå musô seô uğ 
thå printeò externaì tï thå program®  Thió switcè haó nï effecô oî bit-mappinç 
output, i.e. all graphics codes are still sent to the printer.

     - Quit:“  onå caî quiô froí thå optionó menõ witè á 'A'®  Onå mighô neeä 
thió iæ yoõ forgeô thå namå oæ thå fontfilå tï uså anä signó won'ô leô yoõ 
exiô untiì yoõ givå iô á gooä name.

Notå alsï thaô thå sizå oæ thå fonô iî uså ió displayed¬ aó welì aó thå 
calculateä availablå outpuô spacå anä approximatå numbeò oæ inpuô characteró 
thaô wilì fit®  Theså arå displayeä afteò thå fonô filå haó beeî opened.


Hardware:„  

     Therå ió hardware-specifiã codå iî thå sourcå iî severaì procedures:

     Procedure set_up_prt contains all the character sequences necessary to
set and reset the printer in the various modes (10, 12, 16.5, 20 pitch.)  The
code included in the distribution copy is for the IDS MicroPrism (or Prism).
You will most likely have to change it for any other printer model.  Note:
the IDS printers can't do 20 pitch, an entry is included for easy converting
to Epsons.  A separate file of the set_up_prt for Epsons is included below.
(This has not been tested - I don't have an Epson!)

     Procedure calc_width contains the actual pitches for the various
conditions.  Squeezed print on the IDS is 16.5 pitch, Squeezed print on the
Epson is 17 pitch.  Tiny (20 pitch) is available on the Epson, not on the IDS.

     Procedurå out_chaò outputó 'Block_Char'¬ (defineä aó #12· iî thå CONSÔ 
blocë aó thå default.©   Thió printeró á singlå pasó blocë foò thå IDÓ 
printer®  Apparentlù thå standarä modå oî thå Epsoî printeò doesn'ô havå á 
one-pasó blocë characteò (onlù iî 'IBM-mode'.©  É adviså noô tï uså blocë modå 
witè thå Epson¬ uså overstrikå modå tï prinô blockó oò definå thå singlå pasó 
'block§ characteò aó á '*§ oò 'X'.

     Procedurå maiî outputó stringó tï thå printeò foò formfeeä (^Ì - that'ó 
prettù standard© anä reverså formfeeä (<esc>H0$<esc>G0¤ - that'ó noô 
standard).

     Procedurå gdumğ outputó onå graphicó linå tï thå IDÓ printer®  Thå 
graphicó linå ió 67² characteró (¸ inch© anä ió containeä iî thå chaò arraù 
out_line®  Thå printeò ió puô iî graphicó mode¬ thå linå outputteä (control-
C'ó beinç doubleä aó necessary)¬ returneä tï normaì mode¬ anä finallù á cr-læ 
foò thå nexô line®  Notå thaô botè sign_ouô anä banner_ouô musô calì gdumğ 
directlù tï makå surå thå bottoí graphiã lineó arå outputted.


Software:Š
É useä lotó oæ built-iî procedureó tï savå code®  Probablù noô alì oæ theså 
arå standarä anä somå mighô bå uniquå tï TurboPascal:

     String Procedures/Functions: LENGTH(str), VAL(str,#,err), CHR(#).

     Built-in terminal control Procedures/Functions: GOTOXY(x,y), CLRSCR,
CLREOL.

     Otheò Procedures/Functionsº  IORESULT¬ RESET(file)¬ OPEN(file)¬ 
CLOSE(file)¬ ASSIGN(file,fn)¬ SEEK(file,rec)¬ ROUND(real)¬ TRUNC(real)¬ 
ORD(var)¬ HALT.

     I also used Turbo's initialized 'constants' (really variables), {$I-} and
{$I+ı foò i/ï erroò control¬ {$c-ı tï turî ofæ thå ^Ó anä ^Ã interrupts¬ 
predefineä deviceó (kbd,con,lst© foò i/o¬ anä thå #î anä ^ã conventioî tï 
expresó ASCIÉ characters.

     To change number or characters for creating the overstrike block, adjust
the os-char string to the appropriate characters.  The length of os_char
determines the number of strikes (currently the maximum length is 5).


Creating new Font Files:

     FONT1.DAÔ anä FONT2.DAÔ arå ASCIÉ readablå fileó whicè have 'pictures§ oæ 
eacè oæ thå printablå ASCIÉ characteró witè theiò widtè anä height®  Eacè 
picturå ió preceedeä bù á linå witè thå characteò iî columî ± anä twï integeró 
separateä bù spaces®  Thå twï integeró arå respectivelù thå widtè anä thå 
heighô oæ eacè character®  Thå characteò thaô makeó uğ thå picturå maù bå anù 
characteò ('X§ ió useä iî thå samples© aó iô ió useä onlù aó á marker®  (Iæ 
alì thå samå markeò characteò ió useä thå filå wilì squeezå betteò foò 
archiving.)

     Thå firsô linå oæ thå fontfilå containó thå lasô revisioî date¬ iô ió 
outpuô foò informatioî buô ignoreä iî processing®  Thå seconä linå haó thå 
maximuí heighô anä widtè oæ thå characters®  (Anä shoulä matcè thå heighô anä 
widtè oæ characteò recorä numbeò 96.)

     Thå FONT#.ASÃ fileó musô havå aó á minimuí alì 9¶ printablå ASCIÉ 
characteró ASCIÉ ordeò startinç froí <space¾ tï <~¾ anä includinç <del>®  Thå 
actuaì characteò picturå shoulä starô froí thå toğ (iî FONT1¬ á § haó onlù ³ 
lines¬ á ß haó thå maximuí oæ 1² lines© anä bå paddeä witè spaceó sï thaô iô 
ió rectangulaò aô leasô thå giveî widtè ø height®  Wheî output¬ alì characteró 
wilì bå á constanô (currentlù 12© althougè thå pictureó iî thå fonô filå neeä 
noô bå thaô higè (contaiî thaô manù lines).

     Foò instance¬ <space¾ ió defineä aó á ± higè bù ¶ widå characteò iî 
FONT1®  Iô ió actuallù outpuô aó Max_Height higè bù ¶ wide®  Foò convenience¬ 
I'vå endeä eacè linå iî thå .ASÃ fileó witè aî '.§ sï thaô onå caî telì thaô 
thå picturå haó beeî correctlù blockeä anä filleä witè spaces®  (Anä tï stoğ 
the TurboPascaì editor froí deletinç thå normaì trailinç spaces.)

     ASCIÉ valueó startinç witè 12· anä higheò havå nï commonlù defineä 
printeä character®  Yoõ maù makå uğ youò own®  Thå fonô filå maù havå uğ tï 
22´ characteró defineä (256-32)®  Characteò numbeò 12· musô bå defineä aó thå Šequaì tï thå largesô characteò iî thå fonô filå becauså iô ió useä tï 
determinå thå widtè anä heighô of alì otheò output.

     MakeFonô takeó thå inpuô foò thå ASÃ filå anä storeó thå outpuô intï thå 
DAÔ file®   Thå DAÔ filå haó thå informatioî iî recorä forí anä haó filleä 
eacè recorä tï thå maximuí sizå (1² higè bù 1° wide)®  Nï characteò caî bå 
largeò thaî that®  (unlesó thå constantó arå changeä botè iî thió prograí anä 
signs!)

     Foò versioî 3.° anä higher¬ thå .DAÔ filå containó á biô mağ recorä oæ 
thå fonô ratheò thaî á bytå map®  Withouô changinç thå maø widtè anä heighô 
defaults¬ thå fontó caî bå uğ tï 4° widå bù 2´ high®  Iæ onå DOEÓ changå thå 
defaults¬ yoõ havå tï changå theí iî botè SIGNÓ anä MAKEFONT» anä theî redï 
alì oæ thå fonô files®  Alì fonô fileó (.DAÔ versions© shoulä bå thå samå 
size®  (Unfortunately¬ á 'large§ 40x2´ fonô wilì requirå thå samå spacå aó á 
'small§ 10x1² fonô becauså oæ thå neeä foò fixeä sizå records.©  Á bit-mappeä 
40x2´ ió somewherå arounä 12k¬ 56x12° ió 72k¬ Byte-mappeä 10x1² ió 12k¬ 20x2´ 
ió 46k¬ anä 40x2´ ió 72k.

     Startinç iî versioî 4.0¬ bit-mappeä outpuô ió possible®  Unfortunately¬ 
bit-mappinç takeó *alotª oæ memory®  Mù presenô 64ë TurboDOÓ (CP/M-like© 
systeí onlù haó 1.5ë lefô assuminç á maø 40x2´ fonô anä ¸ incè graphicó outpuô 
aô 8´ dpi®  (Thå prograí musô allocatå aî characteò arraù oæ Max_Heighô bù 
Max_Length» thió ió 16ë witè thå presenô parmeters.)


GOTHFONT:

     É likå thå fonô oæ thå publiã domaiî prograí 'GOTHIC'®  É trieä tï creatå 
á fonô filå oæ it®  Unfortunately¬ twï thinç wenô wronç - GOTHIÃ outputó aó 
banneró onlù (characteò printeä dowî page© anä Makefonô expectó á Sign-typå 
inpuô (characteò printeä across)» anä gothiã ió á *bigª font®  Somewherå 
around 105 high by 55 wide.

     É captureä thå GOTHIÃ outpuô iî á disë filå anä cleaneä iô uğ bù removinç 
overstrikes®  Theî createä á prograí tï converô thå modifieä outpuô tï a
MAKEFONÔ .ASÃ inpuô file®  Createä thå font¬ 55x105®  Trieä tï recompilå Signó 
foò thå largeò font®  Nï waù wilì iô eveò fiô iî memorù witè thå presenô 
prograí design®  Thå out-arraù foò sigî outpuô requireó á characteò arraù 
55x67² foò á ¸ incè line®  That'ó oveò 36k¡  Maybå yoõ MS-DOÓ peoplå havå 
enougè RAÍ - É don't®  Anä É don'ô havå anù reallù algorythymó tï reducå thå 
spave requirements.  The .DAT file itself is some 72k.

     Therefore. the GOTHFON files are provided 'for information only'.


Bugs

     É havå detecteä onå buç thaô thå curå ió worså thaî thå bug®  Iæ one 
defineó á inpuô strinç that¬ wheî converteä witè thå currenô paramateró 
*exactlyª matcheó thå availablå width¬ thå outpuô wilì probablù bå doublå 
spaced®  Thió ió becauså mosô printeró anä terminaló thaô É kno÷ dï á 
automatiã <CRLF¾ wheî thå lasô printinç characteò oî á linå ió printed®  Thå 
curå ió tï reducå thå outpuô widtè bù onå whicè wilì givå aî overflo÷ erroò iî 
analysió oæ thå line®  É decideä iô wasn'ô wortè it®  Notå thaô durinç 
'inverså video§ output¬ thå lineó arå filleä tï thå availablå widtè minuó onå Štï takå carå oæ jusô thió problem.

     Gsigns1² doeó noô outpuô overstrikå blockó correctlù tï thå screen®  Theù 
arå correcô wheî outpuô tï á file®  É thinë thió ió á MT« Pascaì problem.

     I don't plan to support the two Gsigns versions, Signs 'maybe'.


Notes on Programming Techniques:

     É havå á tendencù tï writå mù Pascaì procedureó anä functionó toï lonç 
accordinç tï classicaì thought®  (Sï mucè foò classicaì thought.©  However¬ 
thå lonç procedureó alì contaiî jusô onå ideá (oò menu© anä couldn'ô bå easilù 
anä clearlù broken®  Main¬ out_sign¬ out_banner¬ anä check_sigî arå alsï toï 
lonç accordinç bù mù Pascaì Perfesser®  (Whaô doeó hå know¬ anyhow¿ - ho÷ tï 
spelì professoò foò one!©  Anywhat¬ I'lì somebodù elså figurå á gooä waù tï 
breaë iô up.

     I'vå eveî useä á couplå oæ GOTO'ó (heresy!© wherå iô waó easieò tï uså 
onå thaî tï figurå ouô ho÷ tï looğ it®  Therå's toï manù loopó aó iô is®  
Puristó wilì complaiî thaô therå arå toï manù globaì variableó anä É shoulä 
have passed the record variable by pointer.  Having learned by style from 
FORTRAN, I'm a long ways from being a purist.

     Speakinç oæ style¬ mù stylå oæ programminç ió differenô froí most¬ É dï 
aloô oæ dBaså IÉ programminç sï havå pickeä uğ itó stylå anä translateä iô tï 
Pascal®  Iî particular¬ BEGIN/ENÄ pairó arå *notª necessarilù matcheä uğ iî 
indenting¬ buô flo÷ controì statementó morå thaî twï statementó aparô *areª 
anä á terminatoò ió used®  Iæ there'ó á naturaì 'END§ there¬ fine» otherwiså á 
{endı ió used®  Trù it¬ É likå it.

     Onå caî changå mù defaultó bù changinç thå initizeä 'constants§ aô thå 
toğ oæ thå file®  Warningº iæ yoõ makå inpuô froí oò outpuô tï á filå thå 
default¬ yoõ wilì somehow havå tï opeî thå filå iî procedurå maiî - É openeä 
the files when the user exits from ask_parameters.

     Mosô procedureó arå iî 'natural'¬ i.e® FORTRAN¬ order®  (Anotheò 
throwback!©  Maiî comeó first¬ followeä bù majoò subroutines¬ closeä ouô witè 
utilities®  Thió haó thå effecô oæ causeinç alì procedureó anä functionó tï bå 
FORWARÄ declared®  (Oò almosô alì - maiî doesn'ô aó beinç thå first.©  Thå 
reaì prograí aô thå enä simplù annouceó itself¬ calló main¬ anä annouceó 
termination®  Pascaì caî bå readable¡  Thå disp_¿ anä ask_¿ procedureó arå noô 
iî naturaì ordeò anä arå noô forwarä declared®  Theù arå randomlù accesseä 
anyhow.

     Anotheò warningº  thå prograí may hanç iæ thå printeò ió thå defineä 
outpuô anä ió off-linå wheî yoõ exit®  Thió happenó becauså á reseô strinç ió 
senô tï iô eveî iæ nï outpuô ió done®  (assuminç thå dumâ printeò switcè ió 
off.©  Thió maù bå á concerî iæ thå printeò ió thå defaulô outpuô anä onå 
exitó withouô anù input.

     Á carriagå returî tï thå entrù prompô withouô anù inpuô characteró wilì 
asë tï exit®  Inpuô á space<cr¾ iæ yoõ wanô á blanë linå to be output output.

     Whilå outputtinç tï á file¬ thå filå wilì remaiî opeî untiì prograí ió 
exiteä oò thå outpuô directioî ió changed®  Thió way¬ multiplå outpuô lineó Šmaù bå storeä iî onå file®  Remembeò thaô wheî outputtinç tï á filå thaô thå 
widtè ió seô whateveò thå previouó maximuí was®  Thå prograí caî handlå uğ tï 
22° characteò widå output®  Auto-centerinç maù adä morå oò noô enougè spaceó 
thaî yoõ want¬ sï seô á smaller/largeò widtè witè thå given-widtè setting.

     Onå possiblå enhancemenô É haven'ô yeô figureä outº  ho÷ tï handlå 
ediô fonô fileó withouô requirinç thå .ASÃ filå tï bå redone®  I'í workinç oî 
it "real soon now".


Epson Procedures:

     É havå beeî persuadeä tï includå somå oæ thå changeó needeä foò Epsoî 
printers®  Herå theù arå buô notå theù havå noô beeî tested¡  (Thå changeó foò 
graphicó outpuô ió noô included®  Somebodù else¬ whï reallù understandó thå 
Epson¬ caî dï this!©  Changå procedurå set_up_prô to:

PROCEDURE set_up_prt;
BEGIN
    WRITE(lst,CHR(27),'x0',CHR(27),'5');  {draft, non-italic defaults}
    IF reset_prt THEN BEGIN
        WRITE(lst,CHR(27),CHR(18),CHR(27),'M');          {12 cpi}
        WRITE(lst,CHR(27),'2');                          {6 lpi}
        WRITE(lst,CHR(27),'F',CHR(27),'H');      {Emph off, DS off}
    END ELSE BEGIN
        CASE prt_lpi OF
            six     : WRITE(lst,CHR(27),'2');
            eight   : WRITE(lst,CHR(27),'0');
            twelve  : WRITE(lst,CHR(27),'1');
            ten     : WRITE(lst,CHR(27),'A'6')
        END; {case}
        CASE prt_cpi OF
            pica     : WRITE(lst,CHR(27),CHR(18),CHR(27),'P');
            squeezed : WRITE(lst,CHR(27),CHR(18),CHR(27),'M');
            elite    : WRITE(lst,CHR(27),CHR(15),CHR(27),'P');
            tiny     : WRITE(lst,CHR(27),CHR(15),CHR(27),'M');
        END; {case}
        CASE prt_color OF
            black    : WRITE(lst,CHR(27),'F',CHR(27),'H');  {Emph off, DS off}
            blue     : WRITE(lst,CHR(27),'F',CHR(27),'G');  {Emph off, DS on}
            green    : WRITE(lst,CHR(27),'E',CHR(27),'H');  {Emph on, DS off}
            red      : WRITE(lst,CHR(27),'E',CHR(27),'G');  {Emph on, DS on}
        END {case}
    END
END;


Coming Attractions:  (maybe)

     Á fonô editoò whicè woulä allo÷ direcô editó oæ thå fonô filå withouô 
need for the intermediate .ASC file stage.

     Á font³ - 55x10µ fonô baseä oî thå fonô oæ 'GOTHIC'®  (noteº thå 55x10µ 
fonô doeó noô fiô iî 64ë CP/Í systemó iæ á fulì 22° characteò maø outpuô widtè 
is used.)
Š
Quick Reference Chart:

Input Text Mode:

     ^F,^L - send a formfeed to the printer
     ^R,^T - send a reverse formfeed to printer to return to TOF
        ^P - goto the options menu and change the program parameters
     ^D,^C - exit program
  ^H,<del> - backspace
        ^A - Alternate input of Hex codes.
        ^X - delete entered line and start over 
           - anything else is entered into the line to be printed.


Change Parmeters mode:

 <cr>, X - check parameters entered and if ok, return to input mode
       F - change font filename
       T - change sign type
       B - change block/letter type
       W - change width of output graphic characters
       H - change height of output graphic characters
       M - enter a given left margin to use
       A - change auto-centering on/off
       V - change inverse video on/off
       Y - change intercharacter spacing
       G - enter the maximum width of output line in characters}
       I - change input device
       R - change read from input filename
       N - change number of copies desired
       O - change output device
       E - change output record filename
       S - change output device size
       P - change printer characters/inch
       L - change printer lines/inch
       C - change printer color
       D - change dumb printer on/off
       Q - abort exit


     Have fun.  If anyone makes up a new, different and improved font file; or
even adds new and exciting options, I would be interested in seeing it.  I
'think' all the bugs are out, but one never knows ...



Robert W. Bloom
46 Broadleaf Drive
Newark, DE  19702
