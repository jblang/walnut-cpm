=========================
C-128 Compatibility
By: Carl F Howard
    [CHUCK.WAGON]
     09-19-1987
========================
 
     This  is  an  article on the aspects of compatibility of the  C-128  and
other  operating systems and software available to facilitate  the  importing
and  exporting  of data.  This article centers on the CP/M mode of  operation
although the discussion will cover the various modes of the C-128 as well.

     Although  the  C-128 utilizes 8-bit CPU's it's diversity as  a  personal
computer for home and small business purposes is one of it's main Assets, and
I  am sure many new users of the machine aren't even aware of the  capacities
available  to them.  Aside from playing your favorite games in C-64 mode  the
Native  128  80 column capabilities allows much convenience for  the  use  of
productivity applications to the new user.

     There  is already a wide base of Word Processing,  Data Base and Spread-
Sheet Software available for use.  Additionally by utilizing the CP/M mode of
operation  users can take advantage of Business Applications and a huge  base
of public Domain Software as well.  Also, it is possible to use your C-128 to
process  data brought home from the office or school which was created on  an
MSDOS machine.  This  article  will  help  you become  aware  of the  various
different  disk  and data type formats and the software available to  convert
data for your particular application.

     First  it is necessary for the new user to understand a little about the
way  information is stored in the commodore computer and how it differs  from
other types of computers used in the U.S.  As you are aware all data utilized
by  a  computer is essentially processed in binary numbers in  the  forms  of
zeros  and  ones.  This  represents  the on and off state  of  an  individual
transistor switch in the intergrated chips of your computer.  This is  simple
enough  as far as it goes but how does the computer know when you press a key
on the keyboard what your pressing and what it means?

     Well  each  key has a numeric value assigned to it.  The  value  can  be
expressed in Decimal,  Hexadecimal or binary form. And it is this value which
is  converted to a binary number that allows the computer to distinguish what
key is being pressed and what it means. Most computers used in the U.S. use a
standard code called ASCCI which assigns a value of decimal 1 to decimal  128
to  characters used by them.  Commodore in their unique wisdom however  chose
not  to  use  this  standard an developed a character  set  unique  to  there
machines  using  decimal codes 1 to 256.  So in order to use data created  by
other  machines it is necessary to convert it too PETASCCI code a form  which
your Commodore computer can understand.

     Aside from the data differences Commodore also chose to use a  different
way of storing  information on their floppy disk as well. Mostly their reason
for this was to build a cheaper disk drive. They use GCR format as opposed to
MFM format for the rest of the U.S.  computer industry.  I won't go into  the
difference  here  but,  it is nice to know that the 1571 Disk Drive  has  the
capability  of reading and writing to both formats with the use of the proper
software.  We'll  get into this  more bellow.  The thing to remember here  is
that  all Native Commodore operating systems (home computers) including  CP/M
use the GCR format.

     Well armed with this information what else do we need to know?  For  one
it  is important to know whether you are using a single or double sided  disk
format.  For  another it is important to know which operating system (or disk
drive)  your  disk was formatted on.  The types of disk formats  we  will  be
discussing here are the following:

a.  C-64    Single Sided  1541
b.  C-128   Single Sided  1571 (1541 compatible)
c.  C-128   Double Sided  1571 (not 1541 compatible)
d.  C-128   CP/M (GCR) 1571 Single Sided (1541 compatible))
e.  C-128   CP/M (GCR) 1571 Double Sided (not 1541 Compatible))
f.  C-128   CP/M (MFM) IBM (CP/M-86) Single Sided 1571 (not 1541 Compatible))
g.  C-128   CP/M (MFM) IBM (CP/M-86) Double Sided 1571 (not 1541 Compatible))
h.  MSDOS   IBM Double Sided (9 tracks) DOS Version 2.0 or higher.

     As you can see I have listed the Disk types in upward compatible  order.
Commodore did develop a CP/M version (2.2) for the C-64 which required an add
on  cartridge to implement and as such I've included it in our list  although
we  will  be  discussing the 128 Version here which is CP/M + (Ver  3.0)  and
takes advantage of the 128's Banked Memory (additional 64k as opposed to only
64k for Ver 2.2).

    The  Stock C-128 CP/M Operating System which comes with the  computer  is
capable of reading and writing formats d. e. f. & g.  noted above.  The stock
system  is  also capable of reading  Kaypro And Epson Formats  as  well.  The
System  will automatically identify the disk type in current use in the lower
right hand corner of your monitor.  Note when a disk format other than a  128
Single  or Double Sided format is used the user must tell the system  whether
or  not the non-128 formatted disk is a single or double sided disk.  This is
done  by  pressing the left or right arrow keys on the top row  next  to  the
function  keys.  Failing  to identify the correct format can cause disk  read
and  write  errors  so be sure to properly set the  system  for  the  correct
format.

     There are Two Public Domain Programs available that will enhance the  C-
128  Systems  ability to read write and format other CP/M formats.  They  are
Called  NFORMAT.COM and UNIDRIVE.LBR File numbers 1554 and 2682 in the  C-128
library  number 34 on the CP/M R.T.  NFORMAT will allow you to format all  of
the  formats indicated above and Osborne DD formats as  well.  Unidrive  will
allow  you  to  read/write  up to 10 formats out of a menu  of  25  different
formats  not supported by the stock O/S.  Although there are more  than  200+
CP/M formats these 25 will surely enhance your systems capabilities and cover
a range of the more popular formats you will encounter.
 
     More  than likely at some point you will want to transfer data you  have
created  on your C-64 or 128 in native mode.  The stock system can't do this.
But don't get discouraged.  A real Nifty Program to read and transfer/convert
Data  from  your  Commodore disk has been put in the  Public  Domain  by  Rob
Tiloston  called RDCBM21.LBR.  This is file number 3733 on the CP/M  R.T.  It
will  allow  you to transfer binary (program) files or sequential  files  you
have  created in native mode to your Ram Disk or second Disk Drive while  you
are  in CP/M operating mode.  The program will also convert PETASCCI to ASCCI
for  you as well.  CP/M uses ASCII files and your Commodore text  files  will
have  to be converted for you to use them in CP/M mode.  The program is  very
helpful in this respect and eliminates your having to use other utility files
for  the conversion.  The other nice feature of this program is that you  can
transfer  CP/M  program files you have down loaded with your Native  terminal
program  to  a Commodore formatted disk directly to a CP/M disk or  your  RAM
disk while in CP/M mode. This is a much eaiser way of accomplishing transfers
than  some  of the earlier transfer programs that came out in  the  beginning
days of C-128 CP/M.  The program is menu driven and easy to use and I  highly
recommend it for anyone just beginning in CP/M mode.

     While  we're on the topic of Commodore to CP/M transfers I'll shift back
into  Native mode transfer programs for just a moment.  There are 2  programs
that  are available here on GEnie for use in 128 Mode to facilitate  Disk  to
Disk transfers of Data.  One is a DEMO program of a commercial program called
Big Blue Reader,  File number 2264 in Library 9 of the Commodore R.T.  and it
will allow you to view MSDOS Data files on your 128.  The actual program will
implement full file transfers and I believe the current version also supports
CP/M transfer as well. The suggested retail price is $29.95.

     The  other Program is called CROSSLINK2.LBR,   File number 3023 also  in
Library  9.  Cross Link is a fully implemented menu Driven Disk to Disk  (2nd
Drive  optional)   transfer  program  that will  make just about any kind  of
transfer/conversion you can think of.  It will handle CBM,  CP/M and IBM Disk
formats  and   do  ASCCI  PETASCCI conversions  as well PRG and  Screen  file
conversions  too.  This means that it will convert just about  any  Commodore
text file format into a usable CP/M or MSDOS format that you require. You can
also  use  it  to  convert different text file formats used  by  the  various
Commodore word processing applications programs too.  It is an absolute  MUST
HAVE  utility for any one using more than one type of word processor on their
Commodore computer.

     The  major draw back with using either of these two programs  though  is
that  they  are  limited in the size of the files that they can  transfer  to
about 200 disk blocks or 40k of memory.  This is because they store the  data
being transferred in a RAM buffer and Don't transfer the data directly.  This
can  be overcome by splitting a larger file into smaller ones for text  files
but  you will not have this option in the case of a Program  ARC or LBR files
which can't be split. For larger files you are going to have to use the RDCBM
program  above or employ a direct conversion method of tranfering  your  data
such  as  a Null Modem Cable (See my article in the June issue of the  S.B.J.
for more info on this method).

     Now back to CP/M mode,  to use an MSDOS formatted disk on your 128 there
is a program called RDMS233C.LBR, File number 2566  in Library 34 of the CP/M
R.T.  This program will allow you to copy an MSDOS disk file directly to your
RAM  disk or second drive.  File size is limited only to the  available  disk
space.  The  only problem with this program however is that it will only read
an  MSDOS disk not write to it.  To get the Data back to an MSDOS format  you
will  have  to  copy it to a CP/M disk and use the  Crosslink  program  noted
above.

     For  those of you who will be doing a lot of MSDOS / CP/M transfers  and
don't  want to go through the Gymnastics of multiple file conversions I would
highly recommend an MSDOS Program called UNIFORM.  It is a commercial program
which  retails for $59.95 available at most retail software outlets that will
allow  you to read/write CP/M disk on the second floppy drive of  your  MSDOS
machine.  It  supports over 200+ CP/M formats and you can take your work home
and  bring it back the next day if you use one of the Alternate  MFM  formats
supported on the Commodore 128 noted above.  It's well worth the price if you
do  a  lot  of  work at home and don't want to spend the extra  time  at  the
office.

     Well  that's about all for now if you have questions or need  help  with
any  of  these  programs drop me a line and I'll be glad to offer  what  ever
assistance I can.

Happy *Puting*                    -=[CARL]=-                    [CHUCK.WAGON]
