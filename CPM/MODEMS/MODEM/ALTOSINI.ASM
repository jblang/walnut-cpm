; THIS CODE WILL INIT THE ALTOS SIO FOR USE WITH MODEM
;
; SET BAUD RATE ON CTC PORT OEH
	MVI	A,07	;GET ITS ATTENTION
	OUT	0EH	;CTC BAUD RATE GENERATOR ON 8000-2D
	MVI	A,34H	;SET TO 300 BAUD
	OUT	0EH
; ON 8000-2D REGISTER 1FH IS STATUS PORT FOR PRINTER ONE
; GET WRITE REGISTER 1
	MVI	A,01
	OUT	1FH
; DISABLE INTERRUPTS
	XRA	A
	OUT	1FH
; GO FOR WRITE REGISTER 0
	MVI	A,04
	OUT	1FH
; SET X16 CLOCK AND NO PARITY 1 STOP BIT
	MVI	A,44H
	OUT	1FH
; GO FOR WRITE REGISTER 3
	MVI	A,03
	OUT	1FH
; SET FOR RECEIVE 8 BIT DATA
	MVI	A,0C1H
	OUT	1FH
; GO WRITE REGISTER 5
	MVI	A,05
	OUT	1FH
; SET FOR DTR,TX 8 BIT DATA, TX ENABLE, RTS
	MVI	A,0EAH
	OUT	1FH
;
	RET
; THE NEXT CODE SEGMENT JUST RESETS PRINTER PORT TO 1200 BAUD
;  AND USES THE SAME CONFIGURATION AS A MODEM
; IT WORKS FINE WITH MY NEC
;
; SET BAUD RATE ON CTC PORT OEH
	MVI	A,07
	OUT	0EH
	MVI	A,0DH
	OUT	0EH
; 
	MVI	A,01
	OUT	1FH
	XRA	A
	OUT	1FH
; GO FOR WRITE REGISTER 0
	MVI	A,04
	OUT	1FH
; SET X16 CLOCK AND NO PARITY 1 STOP BIT
	MVI	A,44H
	OUT	1FH
; GO FOR WRITE REGISTER 3
	MVI	A,03
	OUT	1FH
; SET FOR RECEIVE 8 BIT DATA
	MVI	A,0C1H
	OUT	1FH
; GO WRITE REGISTER 5
	MVI	A,05
	OUT	1FH
; SET FOR DTR,TX 8 BIT DATA, TX ENABLE, RTS
	MVI	A,0EAH
	OUT	1FH
;
	RET
;
;I PUT THIS CODE IN MODEM AND IT WORKS GREAT
; THE RESET TO 1200 IS AT THE DISCONN ROUTINE
; I MADE AN ALTOS INIT EQU TO KEEP FROM GETTING
; TANGLED IN CODE.
; THANKS FOR YOUR HELP
; MIKE BARRETT
; 5713 CATOCTIN OVERLOOK DR
; MT. AIRY, MD 21771
; 301-831-6510
; 202-624-4975 (WORK)
; SOURCE ID - ST0254
; COMPU-SERV - 71435,1547
;