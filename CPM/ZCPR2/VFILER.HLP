VFILER Overview, Revision 2
Installing VFILER
VFILER Command Summary
The DIR Form
User Functions
Tagging Commands
File Display Commands
File Operations Commands
Movement Commands
Miscellaneous Commands
:VFILER 2.x Overview

	VFILEÒ (foò Videï FILER)¬ deriveä froí FILER¬ waó createä 
tï  givå thå ZCPR² useò á specializeä filå  manipulatioî  utilitù 
whicè coulä takå advantagå oæ thå speciaì featureó oæ ZCPR2®   Iô 
performó thå samå basiã functionó aó DISK7¬  CLEANUP¬  WASH¬  anä 
SWEEP¬  buô  iô  takeó  thå ZCPR² enviroî intï accounô  anä  addó 
commandó anä featureó whicè makå VFILEÒ morå comfortablå foò  thå 
ZCPR² user®  VFILEÒ containó essentiallù thå samå featureó aó thå 
otheò  tooló  buô  addó morå featureó (whicè arå  madå  availablå 
undeò  thå  ZCPR² environment© anä  ió  totallù  screen-oriented¬ 
beinç designeä tï ruî oî á conventionaì CRÔ whicè supportó cursoò 
address¬ cleaò screen¬ anä (optionally© eraså tï enä oæ line.

     VFILEÒ  significantlù simplifieó thå useò interface®   Undeò 
VFILER¬ aî alphabetizeä listinç oæ fileó ió presenteä tï thå useò 
alonç witè á pointer®  Thå useò employó pointeò movemenô commandó 
tï movå thå pointeò up¬ down¬ right¬ anä lefô aó desireä untiì iô 
ió pointinç tï á filå oæ interest®  Oncå pointinç tï sucè á file¬ 
thå useò maù theî perforí á numbeò oæ operationó oî thå file.
	VFILEÒ  ió  invokeä  bù á commanä linå oæ  thå  followinç 
form:
		VFILER [du] [w]

wherå "du¢ anä "w¢ arå optionaì parameters®   "DU¢ ió thå direct-
orù  tï initiallù loç thå useò into®   "W¢ ió á parameteò iî  thå 
2nä  FCÂ (iô won'ô worë unlesó á DÕ ió alsï present© whicè  telló 
VFILEÒ tï prompô thå useò foò á delaù beforå continuing.

     Thå DÕ forí useä abovå consistó oæ aô mosô á disë letteò anä 
á  useò number¬  eitheò onå oæ whicè ió optional®   "A¢ referó tï 
disë A¬  currenô user»  "7¢ referó tï thå currenô disk¬  useò  7» 
"B4¢  referó  tï  disë  B¬  useò 4®   Thå DÕ forí  ió  á  logicaì 
extension to the D form used in CP/M.

     SPECIAÌ  NOTEº   Iî  thå VFILEÒ commanä line¬  thå  DÕ  forí 
shoulä  NOÔ bå followeä bù á coloî (:)®   Thió ió tï prevenô  thå 
operating system from trying to interpret it.


     This HLP File applies to VFILER 2.x.

     VFILEÒ  haó  proveî  tï bå á usefuì tooì witè á  verù  user-
friendlù  interface®   Pleaså feeì freå tï senä  suggestionó  foò 
improvements to:

                    Richard Conn
                    93 Wedgewood Circle
                    Eatontown, NJ  07724

     Iæ  yoõ  wanô  á reply¬  encloså  á  self-addresseä  stampeä 
envelope.

     Enjoy using VFILER!

          Rick

:Installing VFILER

     Installatioî  oæ VFILEÒ ió á multi-steğ  process¬  requirinç 
somå  knowledgå oæ assemblù languagå anä thå capabilitieó oæ youò 
CRÔ terminal.

     The needed files and programs are:
          ASM.COM        <-- CP/M 2.2 Assembler
          DDT.COM        <-- CP/M 2.2 DDT
          VFILER.COM     <-- Uninstalled VFILER
          VFILERSC.ASM   <-- Source to Patch
          ED.COM         <-- Or your favorite editor
          GENINS.COM     <-- For ZCPR2/CPM Installation

     Therå  arå twï versionó oæ VFILEÒ -- onå usinç Z8°  codå  tï 
makå  iô  á littlå smalleò (anä faster© anä thå otheò usinç  808° 
code.  VFILERZ is the Z80 version, VFILER8 is the 8080 version.

     The installation procedure is as follows:

          1®   Ediô VFILERSC.ASÍ anä follo÷ thå directionó iî thå 
code®   Yoõ  havå tï writå routineó whicè cleaò  youò  terminal'ó 
screen¬  positioî itó cursor¬ anä eraså tï enä oæ linå (oò outpuô 
sï manù spaceó iæ sucè á functioî ió noô available).
          2.  Assemble VFILERSC.ASM into VFILERSC.HEX:
               D>ASM VFILERSC
          3.  Run DDT on the desired VFILER (VFILER8 or VFILERZ):
               D>DDT VFILER8.COM or D>DDT VFILERZ.COM
          4.  Read in VFILERSC.HEX:
               *IVFILERSC.HEX
               *R
               *^C
          5.  Save the memory image as VFILER.COM:
               D>SAVE 32 VFILER.COM for VFILERZ or
               D>SAVE 33 VFILER.COM for VFILER8
          6®  Instalì VFILEÒ foò youò systeí viá GENINS®  Seå thå 
ZCPR2 Installation Manual for details:
               D>GENINS VFILER

     NOTEº   Iî ordeò foò thå ZCPR² commanä executioî facilitù tï 
worë  froí withiî VFILER¬  thå namå oæ VFILEÒ MUSÔ bå VFILER.COM®  
Thió ió becauså VFILEÒ buildó á commanä linå oæ thå form:

          commands;VFILER

so that control will return to VFILER when done.

:VFILER Command Summary

-- Tagging Commands --    --------- File Operations ---------
 T - Tag File              C - Copy File       M - Mass Copy
 U - Untag File            D - Delete File     R - Rename File
 W - Mass Tag/Untag        F - File Size       Y - Mass Delete

-- File Print & View --   --- User  Functions ---
P - Print      V - View   0-9 - Execute  * - Help

-- Movement Commands --   ---- Miscellaneous ----
  <SP> - File Forward      A - Toggle Alpha Sort
   N   - File Forward      H - Help File
  <BS> - File Backward     L - Login DIR
   B   - File Backward     Q - Refresh Screen
   Ç   - Gï Tï á Filå      S - Disk Status
   +   - Screen Forward    X - Exit
   -   - Screen Backward   Z - ZCPR2 Command

                      -- Screen Movement --
File:     ^S - LEFT      ^D - RIGHT     ^E - UP   ^X - DOWN
Screen:   ^A - LEFT      ^F - RIGHT

     Movement Commands --
          ^E - Move Up (Wrap to Bottom)
          ^X - Move Down (Wrap to Top)
          ^D - Move Right (Wrap to First File of Next Line)
          ^S - Move Left (Wrap to Last File of Previous Line)
          ^F - Move Screen Right (Wrap to First Screen)
          ^A - Move Screen Left (Wrap to Last Screen)

     Thå  useò maù definå siø otheò single-characteò commandó  tï 
conforí  tï  thå  arro÷ keyó oî  hió  specifiã  terminal®   Theså 
commandó  wilì overridå thå seô describeä abovå iæ anù  conflictó 
exisô  (thaô is¬  iæ youò down-arro÷ keù generateó á ^E¬  ^Å wilì 
no÷ meaî Movå Dowî iî alì cases).
          
     Screeî  Lefô  anä Righô makå senså wheî therå arå  toï  manù 
fileó tï fiô oî onå screen®   Iî thió case¬  thå fileó arå brokeî 
intï  screeî directories¬  anä Screeî Lefô anä Righô arå useä  tï 
move between them.

:The DIR Form

     Thå Copy¬  Masó Copy¬ anä Logiî commandó prompô thå useò foò 
thå  directorù  tï copù oò loç into®   Thå useò maù  specifù  anù 
accepted ZCPR2 DIR form in response to this.

     Thå   ZCPR²  DIÒ  forí  maù  bå  eitheò  á  DÕ   (Disk/User© 
specificatioî  oò á directorù namå (mnemonic)®   Exampleó oæ  DIÒ 
forms include:

          B         <-- Disk B, Current User
          7         <-- Current Disk, User 7
          B7        <-- Disk B, User 7
          wordstar  <-- DU associated with the name WORDSTAR

     Iî  VFILER¬  theså  entrieó maù bå optionallù suffixeä bù  á 
coloî  (:©  aó thå useò desiresº   "B7:¢ anä "B7¢ meaî  thå  samå 
thing.

:User Functions

     Thå  VFILEÒ  useò ió giveî addeä flexibilitù iî hió  commanä 
invocatioî  capabilitù  bù  thå uså oæ á  seô  oæ  user-definablå 
functions¬  whicè  arå executeä bù strikinç á digiô froí ° tï  9®  
The basic idea is this:

          1© thå useò createó á filå calleä VFILER.CMD» thió filå 
contains his extended command set

          2© VFILER.CMÄ ió placeä alonç thå user'ó commanä searcè 
path

          3© wheî thå useò ió iî VFILEÒ anä hå strikeó á digiô oò 
aî asterisë (*© foò help¬  VFILEÒ searcheó alonç thå patè foò thå 
firsô VFILER.CMÄ filå iô findó anä extractó thå informatioî  froí Šit


     Sincå VFILEÒ searcheó foò VFILER.CMÄ alonç thå path¬ severaì 
VFILER.CMÄ fileó maù bå availablå foò thå user®  Foò instance¬ iæ 
thå patè ió $¤ -¾ A¤ -¾ A15¬ theî VFILEÒ wilì looë iî thå currenô 
directory¬   disë   A/currenô  user¬   anä  disë  A/useò  1µ  foò 
VFILER.CMD®   Á general-purposå VFILER.CMÄ filå maù bå placeä  iî 
A15¬  anä special-purposå VFILER.CMÄ fileó (sucè aó foò assembleò 
languagå development¬ Ã development¬ worä processing¬ etc© maù bå 
placeä  iî selecteä useò areaó oî A®   Saù thaô A· containó  Worä 
Staò  anä ió useä foò worä processinç anä thaô B· ió thå  scratcè 
areá foò texô files.  Witè thió path¬  á useò editinç fileó iî B· 
wilì finä WÓ iî A7¬  VFILER.CMÄ (foò worä processing© iî A7¬  anä 
his system commands in A15.

     Anù optionó requireä foò thå commandó arå prompteä for¬  anä 
wheî thå useò inputó valueó foò alì options¬ VFILEÒ chainó tï thå 
ne÷ commanä viá thå ZCPR² Multiplå Commanä Linå feature¬ executeó 
the command line generated, and returns.


     Thå  structurå  oæ VFILER.CMÄ ió quitå simple®   Iô  caî  bå 
createä bù anù CP/Í texô editor¬ anä iô consistó oæ thå followinç 
types of lines:

          1© á commanä line¬  whicè beginó witè á digiô (0-9© anä 
containó thå texô oæ thå commanä tï bå executeä shoulä thaô digiô 
be typed by the user

          2©  á  helğ block¬  whicè ió printeä wheneveò thå  useò 
typeó  aî  asterisë (*)»  thió blocë ió denoteä bù á  linå  whicè 
begins with an asterist, and it extends to the end of the file

          3© á commenô line¬  whicè ió useä tï embeä  explanatorù 
comments¬  whicè  arå foò referencå purposeó onlù anä noô seeî bù 
the VFILER user


COMMAND LINE

     Thå  commanä linå consistó oæ á digit¬  zerï oò morå  spaceó 
(whicè  arå ignored)¬  anä thå texô oæ thå commanä witè  embeddeä 
promptó  foò  useò input®   Theså promptó arå  denoteä  bù  beinç 
encloseä  iî  single- oò  double-quoteó (§ oò  ")®   Wheî  VFILEÒ 
executeó  theså  commanä lines¬  iô printó thå  prompô  containeä 
withiî thå quoteó aó theù arå encountereä anä waitó foò thå  useò 
tï inpuô á linå oæ texô (terminateä bù á RETURN)¬  aô whicè poinô 
thå  texô ió substituteä iî thå commanä linå wherå thå prompô is®  
Iæ á prompô extendó tï thå enä oæ á commanä line¬  iô neeä noô bå 
terminated.  Example:

          1 copy 'Source File? ' 'Destination Dir? '

wilì  definå useò functioî 1®   Thå useò ió prompteä witè "Sourcå 
File¿  "¬  hå enteró hió text¬  iô ió substituteä iî thå  commanä 
line¬  hå ió prompteä foò "Destinatioî Dir¿  "¬ hå agaiî enteró á 
response¬  iô  ió substituted¬  anä thå resultinç commanä linå ió 
chaineä to.

     1 copy 'Source File? ' 'Destination Dir? '

Iæ  thå  useò  respondó witè "myfile.txt¢  anä  "C0:"¬  theî  thå 
command line

          copy myfile.txt C0:

ió  built®   Notå  thaô spaceó anä otheò characteró  betweeî  thå 
prompts are significant.

     1 mcopy 'Dest Dir? '='Source File? '

will generate (to the same inputs)

          mcopy C0:=myfile.txt


Passed Parameters

     Threå  parameteró maù bå passeä froí VFILEÒ intï thå commanä 
line being generated.  These parameters and their symbols are:

          Symbol    Parameter
            %D      Current Disk Letter
            %U      Current User Number (1 or 2 digits)
            %F      Current File Name (pted to by arrow)
            %$      DU:FILENAME for Current File

     Iæ  thå  useò musô inserô á '%§ characteò intï  thå  commanä 
line he is building, '%%' places one '%' into the line.  Example:

          echo Disk is %d, User is %u, File is %f

prints (assuming the user is in A15 and pting to MYFILE.TXT):

          Disk is A, User is 15, File is MYFILE.TXT

HELP BLOCK

     Thå  Helğ Blocë iî thå VFILER.CMÄ filå ió simplù á blocë  oæ 
texô  whicè extendó froí thå asterisë (*© iî thå filå tï thå  enä 
oæ thå file®   Thió helğ informatioî ió displayeä tï thå useò  aó 
onå screen¬ anä iô ió thå responsibilitù oæ thå persoî whï writeó 
thå  VFILER.CMÄ filå tï seå thaô thió bodù oæ texô (includinç thå 
line the asterisk is on) does not exceed 22 lines.  Example:

*  Help for Word Processing

     1 - Run WordStar
     2 - Run WordMaster
     3 - Run ROFF4
     4 - Run TFS


COMMENT LINE

     Á commenô linå ió anù linå whicè doeó noô begiî witè á digiô 
oò aî asterisk®  Thå texô oæ thaô linå ió thå comment®  Iô ió noô 
displayeä  tï thå VFILEÒ useò anä ió useä onlù foò  referencå  tï 
the person who wrote the VFILER.CMD file.  Example:

! This is a comment
This is also a comment


Sample VFILER.CMD

!  VFILER Command File for Richard Conn
1 xdir 'XDIR Options? '
2 protect %D%U:%F 'PROTECT Attributes? '
3 wm %$
4 t2a
5 echo Disk=%d  User=%u  File=%f  DU:FILENAME = %$
*VFILER Command File for Richard Conn

The following VFILER Macros are provided --

	1 - XDIR with Options
	2 - PROTECT Current File
	3 - Edit Current File
	4 - TERM III
	5 - Echo Current File and Text

:Tagging Commands

     Ô  - Taç  filå  foò inclusioî foò masó copù  tï  anotheò  DÕ 
(disk/user© area®    Filå remainó taggeä untiì eitheò á disë log-
iî  oò  'U§ ió useä tï untaç it®   Á '*§ markeò ió placeä bù  thå 
taggeä filenamå aó á remindeò thå filå ió taggeä foò masó copù oò 
masó  delete®   Taggeä filå sizå ió showî anä totaló  accumulateä 
anä presented.

     Õ - Untaç filå previouslù taggeä foò masó copy®   'U§ caî bå 
useä  tï  movå  cursoò 'forward§ foò quicë  untagginç  oæ  files®  
Logging-iî drivå agaiî witè 'L§ alsï quicklù untagó alì files.

     ×  - Masó  Taç  oò Untag®   Useò ió  prompteä  foò  thå  Taç 
operatioî  oò thå Untaç operatioî (Ô oò U)®   Anù otheò characteò 
aborts®   Iæ eitheò operatioî ió selected¬  tagginç oò  untagginç 
occuró  automaticallù froí thå cursoò positioî tï thå enä oæ  thå 
screeî oî alì fileó iî thió area®  Iæ thå useò wisheó tï theî seå 
thå  accumulateä  sizeó oæ thå taggeä files¬  thå Æ  (Filå  Size© 
command may be issued.
:File Display Commands

     Ğ  - Prinô  texô filå tï CP/M lisô  devicå  (printer)®   Anù 
keypresó cancels.

     Ö - Vie÷ texô filå oî console¬  witè paginatioî anä  single-
linå  turn-up®   <CTRL-C¾ canceló function®   <SPACE¾ advanceó tï 
nexô  line¬  anä anù otheò characteò advanceó thå  screen®   Onlù 
ASCIÉ characteró arå processed.

:File Operations Commands

     Ã - Copù filå tï anotheò DIÒ areá witè automatiã 'CRC§ veri-
fication®   Thå  standarä ZCPR² DIÒ forí ió allowed¬  anä á coloî 
afteò thå specificatioî ió optional®   Seå thå sectioî oî thå DIÒ 
forí  foò  morå details®  Systeí reseô occuró  foò  disë  change®  ŠPromptó tï eraså alreadù existinç filå oî otheò drivå oò iî otheò 
useò area®   Thå useò shoulä bå surå thaô therå ió enougè rooí oî 
the destination disk before attempting a copy.

     Ä - Deletå filå froí disk¬ promptó foò certainty.

     Æ - Filå sizå iî kilobytes¬  roundeä uğ tï nexô disë alloca-
tioî block.

     Í  - Masó  copù oæ taggeä fileó tï anotheò DÕ  area®   Auto-
eraså occuró iæ file(s© alreadù exist(s)®  Promptó foò desireä DÕ 
areá  aó witè 'C§ anä 'L'®   Masó copù functioî caî  bå  repeateä 
withouô  re-tagginç files®   Simplù enteò 'M§ agaiî tï copù  pre-
viouslù  taggeä fileó tï anotheò DÕ area®   Enterinç 'M§  withouô 
anù fileó taggeä causeó cursoò tï movå tï directorù beginning.


     Ò  - Renamå  filå oî currenô drive®   Onlù  CP/Í  conventioî 
nameó permitted®  Wilä cardó arå noô permitted®  Useò ió prompteä 
foò ne÷ filå name.

     Ù - Masó deletå oæ taggeä files®   Promptó foò approval¬ anä 
Ù oò Ö approvå deletioî whilå anù otheò characteò aborts®   Iæ Y¬ 
deletioî occuró withouô useò intervention®   Iæ V¬  useò ió askeä 
tï approvå eacè deletioî beforå iô ió made.

:Movement Commands

     <SP¾  - Advancå tï nexô filå name®   Wraparounä froí lasô tï 
firsô maù occur.

     Î - Advancå tï nexô filå name®  Samå aó <SP>.

     <BS¾ - Bacë uğ tï lasô filå name®   Wraparounä froí firsô tï 
lasô maù occur.

     Â - Bacë uğ tï lasô filå name®  Samå aó <BS>.

     Ç - Gï tï á file®   Useä tï quicklù jumğ tï á specifiã file®  
Useò ió prompteä foò á filå name¬ anä wilä cardó (¿ anä *© maù bå 
used®   Useò ió positioneä aô firsô filå whicè matcheó wilä cardó 
iæ found» useò ió positioneä aô firsô filå iî rinç iæ noô found.


     « - Jumğ tï Nexô Screeî (iæ any)®  Iæ therå ió morå thaî onå 
screeî oæ files¬  thå useò ió advanceä tï thå nexô screen®  Iæ aô 
the last screen, wraparound occurs to the first.

     - - Jumğ  tï Lasô Screeî (iæ any)®   Similaò tï « buô iî thå 
opposite direction.  Wraparound to last screen may occur.

     ^Å  - Movå  UP®   Movå thå cursoò tï thå filå namå  directlù 
abovå  thå currenô filå name®   Iæ thå useò issueó thió froí  thå 
firsô  linå oî thå screen¬  thå cursoò ió wrappeä arounä  tï  thå 
bottoí linå oî thå screen.

     ^X  - Movå DOWN®   Movå thå cursoò tï thå filå namå directlù 
belo÷  thå currenô filå name®   Iæ thå useò issueó thió froí  thå 
bottoí  linå oî thå screen¬  thå cursoò ió wrappeä arounä tï  thå 
firsô linå oî thå screen.


     ^Ä - Movå RIGHT®   Movå thå cursoò tï thå filå namå righô oæ 
thå currenô filå name®   Iæ thå useò issueó thió froí thå  right-
mosô  columî oî thå screen¬  thå cursoò ió wrappeä arounä tï  thå 
left-most column and the NEXT line.

     ^Ó  - Movå LEFT®   Movå thå cursoò tï thå filå namå lefô  oæ 
thå  currenô  filå  name®   Wraparounä similaò tï ^Ä buô  iî  thå 
opposite direction.

                         Recommendations

     Thå  useò  haó thå abilitù tï specifù siø  otheò  codeó  foò 
movemenô (Filå UP¬ DOWN¬ RIGHT¬ LEFT¬ anä Screeî RIGHÔ anä LEFT)®  
Iô  ió  recommendeä  thaô thå Worä Staò conventioî  bå  useä  foò 
Screeî  RIGHÔ  anä LEFÔ foò consistancù (^A=LEFT¬  ^F=RIGHT©  anä 
thaô thå arro÷ keys¬  iæ any¬ oî thå user'ó terminaì arå useä foò 
the other functions.

:Miscellaneous Commands

     Á - Togglå Alphá Sort®   Thió commanä reverseó thå senså  oæ 
thå  sorô oæ thå currenô directory¬  reloadó thå  directory¬  anä 
refresheó thå screen¬ havinç sorteä iô iî thå ne÷ sense®  Sortinç 
is done by file name and type or by file type and name.

     È - Invokeó externaì HELĞ Information®  VFILEÒ wilì chaiî tï 
HELĞ anä displaù thå informatioî iî VFILER.HLP®  VFILEÒ checkó tï 
seå  iæ  HELĞ  caî bå founä alonç patè  (externaì  iæ  available¬ 
internaì iæ externaì patè ió noô available© anä doeó noô  attempô 
tï chaiî iæ HELP.COÍ cannoô bå found.

     Ì  - Logiî ne÷ DÕ areá foò displaù anä reseô systeí foò disë 
changes®  Formaô oæ DÕ forí ió samå aó 'C§ foò copy.

     Ñ  - Refresè  thå  screen®    Thå  currenô  screeî  wilì  bå 
redisplayed.


     Ó - Staô oæ requesteä drive¬ showó remaininç disë storagå iî 
kilobytes and number of files in current directory.

     Ø - Exiô tï Operatinç System.

     Ú - Ruî anù ZCPR² Commanä Line®   Useò wilì bå prompteä  foò 
commanä  line¬  anä  VFILEÒ wilì bå reentereä iî samå DÕ areá  aó 
wheî commanä waó executed®   Commanä wilì executå iî thå originaì 
DÕ area.

     ¯ oò ¿ - Prinô Commanä Summarù (Shorô Helğ Information).

