.he DIRPAT version 3.xx manual                     (c) S Kluger 1986
.fo                      DIRPAT manual page #

                        DIRPAT version 3



1. WHAT IS DIRPAT?

     DIRPAÔ ió á DIRectorù PATcè utilitù foò TurboDOÓ versioî 1.´ 
anä higher® Iô allowó foò totaì manipulatioî oæ datá containeä iî 
thå disë directory¬  regardless‚ oæ TurboDOÓ file/recorä  locking® 
Usually¬  DIRPAÔ ió useä afteò somå catastrophiã evenô oò iî caså 
oæ  directorù entieó thaô cannoô bå deleteä witè thå DELETÅ  com
mand®  DIRPAÔ  maù alsï bå useä tï mass-deletå fileó acrosó  useò 
areas®  Also¬  iô  ió aî interestinç learninç tooì iæ yoõ wanô tï 
finä ouô whaô á TurboDOÓ directorù lookó like.


2. THE DIRECTORY

     The TurboDOS disk directory is organized into three parts:

- volume label
   The volume label is the first entry in the first sector of the
   directory.
-  bit map
   Thå  biô mağ (disë allocatioî map© containó á binarù  "1¢  foò 
   eacè used block, a "0" for each unused block on the disk.
   NOTE: DIRPAT should never be used to manipulate the bit map!
-  the directory


3. USING DIRPAT

     Beforå usinç DIRPAT¬ iô musô bå installeä foò youò terminal® 
Sincå  iô useó direcô cursoò addressing¬  iô cannoô bå useä  witè 
printinç terminals¡ Tï install¬ havå thå manuaì foò youò terminaì 
handy¬  theî executå thå commanä "DPINST"®  Yoõ wilì bå askeä foò 
thå followinç information¬ alì oæ whicè musô bå entereä iî ASCII:

- clear screen sequence
- cursor positioning sequence

     Iæ therå arå anù problemó configurinç DIRPAÔ foò youò termi
nal¬  pleaså senä må á lisô oæ escapå codeó foò youò terminaì anä 
thå  disë oî whicè DIRPAÔ came¬  anä I'lì bå glaä tï recitfù  thå 
problem.

NOTE: DIRPAT comes configured for HEATH H19 and BEEHIVE ATL-004.
.paŠ
     Afteò installinç DIRPAT¬  iô ió readù foò use®  Pleaså  notå 
thaô  DIRPAÔ must„ bå invokeä froí thå drivå yoõ wisè tï  process® 
DIRPAÔ maù bå starteä witè aî expliciô drivå specification® Iæ iô 
is run without drive spec, the current drive is assumed.

     Wheî DIRPAÔ ió starteä up¬  thå copyrighô messagå appearó oî 
thå screeî anä DIRPAÔ asks¬  "Dï yoõ wisè tï locë drivå x:?"® Yoõ 
shoulä responä witè "Y¢ foò "YES¢ iæ yoõ intenä tï alteò thå disë 
directory®  Oî á busù systeí oò jusô tï browse¬ yoõ maù enteò "N¢ 
foò "NO¢ anä DIRPAÔ wilì noô attempô tï locë thå drive®  NOTE:‚ iæ 
yoõ  requesteä  DIRPAÔ tï locë thå drivå anä thå drivå  ió  busy¬ 
DIRPAÔ wilì aborô witè aî erroò message.

     Next¬  á messagå wilì bå displayeä tï presó RETURÎ tï  starô 
usinç DIRPAÔ anä thå DIRPAÔ commanä prompô wilì appeaò oî linå 1¶ 
witè  thå currenô timå displayeä iî columî 0®  Aô thió time¬  yoõ 
maù enteò anù commanä aó explaineä iî chapteò 4.


4. DIRPAT COMMANDS


     ?  HELP
          Typinç á questioî marë wilì displaù á brieæ helğ screeî 
          showing all commands and a 1-line description.

     >  NEXT ACTIVE
          Thå  ">¢ commanä advanceó tï thå nexô sectoò containinç 
          aô leasô onå activå directorù entry¬ skippinç alì emptù 
          sectors.

     !  HOME
          Thå  HOMÅ commanä (!© setó thå currenô sectoò tï °  anä 
          displays it.

     +  NEXT SECTOR
          Thå "+¢ commanä advanceó thå currenô sectoò pointeò anä 
          displayó thå nexô sector®  Aô thå enä oæ thå directory¬ 
          thå firsô sectoò (sectoò 0© ió displayed®  Sincå "+¢ ió 
          á  shifteä  characteò oî mosô keyboards¬  "=¢  ió  alsï 
          permissible.

     -  PREVIOUS SECTOR
          Thå "-¢ commanä decrementó thå sectoò counteò anä  dis
          playó thå previouó directorù sector®  Aô sectoò 0¬  thå 
          lasô directorù sectoò wilì bå displayed.

     D  CHANGE DRIVE
          Thå  Ä  commanä promptó foò á ne÷ drivå  letter®  Enteò 
          onlù  á  letteò  "A¢ througè "P¢  (nï  colon©  anä  thå 
          correspondinç   drivå  wilì  bå  selected®   Anù  otheò 
          characteò causeó DIRPAÔ tï returî tï displaù modå  witè 
          no changes.
.paŠ     E  ERASE FILES
          Thió  commanä promptó foò á filename®  Thå filenamå maù 
          contaiî  á  useò  number„  anä  maù  bå  ambiguous®  Alì 
          directorù  entrieó  matchinç  thå  filå  namå  wilì  bå 
          erased®  iæ thå drivå ió noô locked¬  á warninç messagå 
          wilì  bå displayeä anä yoõ arå alloweä tï  changå  youò 
          mind.

     F  FIND HEX DATA
          Thå  "F¢  commanä  maù bå useä tï locatå  á  strinç  oæ 
          hexadecimaì  valueó iî thå directory®  Thå strinç  musô 
          noô  crosó sectoò boundaries®  Searcè wilì commencå  aô 
          bytå ° oæ thå currenô sector® Iæ found¬ thå sectoò wilì 
          bå  displayed¬  thå  bytå numbeò wilì bå showî  iî  thå 
          uppeò  right-hanä  corneò oæ thå screeî anä thå  cursoò 
          wilì bå placeä oî thå firsô characteò oæ thå strinç foò 
          subsequent editing. See "S" command on editing.

     G  GOTO
          Thå "G¢ commanä allowó yoõ tï jumğ tï anù sectoò withiî 
          thå directory®  Iæ valid¬  thå specifieä sectoò becomeó 
          the current sector and is displayed.

     H  HASH STATUS
          Witè thió command¬  thå directorù haó statuó maù bå seô 
          oò  reset®  Hasè  oò  nonhasè wilì  havå  effecô  afteò 
          exiting®  NOTE‚  thaô iæ thå drivå ió noô  locked¬  thió 
          command should not be used.

     L  LOCATE A FILE
          Thå  "L¢ commanä allowó yoõ tï locate„ á filenamå iî thå 
          directory®  Searcè commenceó aô thå currenô sectoò  anä 
          stopó  aô thå firsô match®  Iæ á useò area‚ ió specifieä 
          witè  thå filename¬  DIRPAÔ wilì searcè foò  thå  firsô 
          occurrencå  oæ thaô filename¬  elså iô wilì stoğ aô thå 
          firsô matcè oæ anù kinä (eraseä filå oò anù useò area)® 
          Otherwise¬ operatioî ió identicaì tï thå "F¢ command.

     Q  QUIT
          Thå  Quiô  commanä  terminateó  DIRPAÔ  anä  exitó   tï 
          TurboDOS®  Iæ thå drivå waó lockeä anä anù changeó werå 
          writteî  tï thå directory¬  á FIXMAĞ operatioî ió  donå 
          beforå  exiting®  Then¬  iæ thå directorù waó hasheä oò 
          thå  hasè  statuó waó changed¬  á FIXDIÒ calì  wilì  bå 
          made¬  too® Iæ anù changeó werå madå witè thå drivå not‚ 
          locked¬  á messagå wilì bå displayeä tï thå effecô thaô 
          FIXDIR and FIXMAP should be run as soon as possible.

     R  RE-READ
          Thió  commanä ió useä tï redisplaù thå currenô  sector¬ 
          usuallù afteò extensivå editinç waó donå oî thå  sectoò 
          (without writing) and the changes are to be discarded.
.paŠ     S  SUBSTITUTE (EDIT)
          Thió  mosô  powerfuì  DIRPAÔ commanä  allowó  on-screeî 
          editinç oæ thå currenô sector®  Thå cursoò ió placeä oî 
          bytå  °  anä DIRPAÔ awaitó furtheò  input®  Foò  cursoò 
          movement¬ uså ^E=up¬ ^X=down¬ ^S=left¬ ^D=right® Aô thå 
          beginninç anä end¬  thå commandó wrap¬ iå ^Ä aô bytå 1Æ 
          wilì movå thå cursoò tï bytå 10®  Thå ^Ã commanä  exitó 
          back to the DIRPAT command prompt.

          Tï  changå á certaiî bytå oò strinç oæ bytes¬  movå thå 
          cursoò  tï  thå targeô byte®  Yoõ maù  theî  enteò  two‚ 
          hexadecimaì   characters®   Pleaså   notå   thaô   botè 
          characteró musô bå valiä heø digitó  (0..9¬  A..F)®  Iæ 
          thå  seconä  characteò  iæ noô á valiä  heø  character¬ 
          DIRPAÔ  wilì  waiô untiì onå ió typed®  Afteò  twï  heø 
          characteró  havå beeî typed¬  thå ASCIÉ portioî oæ  thå 
          displaù ió updateä anä thå cursoò ió moveä tï thå  nexô 
          bytå oî thå samå line¬ oò tï thå firsô bytå oî thå nexô 
          linå iæ aô thå enä oæ thå linå (oò tï thå firsô bytå oî 
          the screen if at the end of the block).

          Tï ediô iî ASCII¬  yoõ musô prefiø thå characteò witè á 
          singlå quotå (')®  So¬ tï enteò á "s"¬ typå "'s¢ aô thå 
          cursoò location® Thå heø anä ASCIÉ partó oæ thå displaù 
          wilì  bå updateä appropriatelù anä thå cursoò moveä  tï 
          thå nexô byte.

     U  UNDELETE
          Thå  "U¢ commanä allowó á filå oò manù fileó tï bå "un-
          deleted"®  Pleaså  notå thaô therå maù bå manù  deleteä 
          entrieó  foò onå filå anä thaô yoõ maù bå  resurrectinç 
          trasè  insteaä oæ data¬  causå allocatioî conflictó  oò 
          eveî wipå ouô existinç files®  Thió shoulä onlù bå donå 
          iî desperatå situationó iî á controlleä environmenô (iå 
          nobodù elså oî thå system¬ drivå locked)® thå U‚ commanä 
          displayó  thå  sectoò  iô founä á matcè  anä  askó  foò 
          confirmatioî beforå unerasinç thå file(s)¬ theî goeó oî 
          tï thå nexô sector¬  untiì thå wholå directorù haó beeî 
          processed.

     W  WRITE SECTOR
          Thió  commanä  writeó thå currenô directorù  sectoò  tï 
          disë makinç anù changeó permanent®  Iæ thå drivå ió not‚ 
          locked, you will be asked for confirmation.

     X  HEX TOGGLE
          Thå  "X¢ commanä toggleó thå sectoò numbeò displaù bet
          weeî  heø  anä decimal®  Notå thaô  alì  sectoò  numbeò 
          entrieó  requesteä  bù DIRPAÔ musô bå madå iî  decimal¬ 
          whilå thå defaulô displaù modå ió hex.
.paŠ
5. DIRPAT DISPLAY/EDIT FORMAT

     Thå followinç ió á typicaì DIRPAÔ sectoò display¬ jusô afteò 
a command has been executed:

        Sec [000B]     Hash=ON     Size 0040 sectors    WL       
ADDR  00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F  0123456789ABCDEF

0000  E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5  eeeeeeeeeeeeeeee
0010  E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5  eeeeeeeeeeeeeeee
0020  00 44 49 52 50 41 54 33 20 4D 41 43 00 00 00 80  .DIRPAT3 MAC....
0030  74 00 75 00 76 00 77 00 78 00 79 00 7A 00 7B 00  t.u.v.w.x.y.z.{.
0040  00 44 49 52 50 41 54 33 20 4D 41 43 01 00 00 10  .DIRPAT3 MAC....
0050  7C 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |...............
0060  E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5  eeeeeeeeeeeeeeee
0070  E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5 E5  eeeeeeeeeeeeeeee


11:29:46            Command (or ? for help) [_]

     Above¬  yoõ seå thå statuó line¬ followeä bù thå ruleò line¬ 
á  blanë  linå  anä thå currenô sector®  Thå  commanä  promô  anä 
current time appear on line 16 of your terminal.

     The status line displays the following info, left to right:
- Currently displayed sector (in hex or decimal)
- HASH status (ON or OFF)
- Size of the directory (in hex or decimal)
- "W" if directory has been written to
- "L" if drive is locked
- Iæ  thå displaù ió immediatelù afteò á "L¢ oò "F¢ command¬  thå 
  string, "Found: xx" is displayed also (where "xx" is the byte).
.paŠ
6. MISCELLANEOUS

     Iô  ió besô tï gaiî proficiencù anä confidencå bù  extensivå 
"playing¢  witè  DIRPAÔ  oî á floppù diskettå  createä  foò  thaô 
purpose®  DIRPAÔ wilì noô accesó anù drivå otheò thaî thå onå  iô 
waó  invokeä  from¬  sï  therå ió nï neeä tï  worrù  abouô  otheò 
drives®  Iæ yoõ havå useä thå previouó versionó oæ DIRPAÔ before¬ 
yoõ  maù  finä thió onå quitå á biô easieò anä morå  friendlù  tï 
use®  DIRPAÔ  waó borî ouô oæ necessitù anä evolveä witè itó use¬ 
anä  iæ  yoõ thinë oæ anù improvementó  oò  additionaì  commands¬ 
please let me know.

     Pleaså  note‚ thaô DIRPAÔ versioî 3.xø ió copyrighteä anä maù 
noô  bå  duplicateä oò redistributed¬  unlikå oldeò  versionó  oæ 
DIRPAT¬  whicè arå iî thå Publiã Domain®  Thå purchaså oæ  DIRPAÔ 
authorizeó  thå purchaseò aó welì aó thå purchaser'ó employeeó tï 
uså DIRPAÔ oî theiò owî TurboDOÓ computeò systemó anä (iæ purcha
seò  ió  á company© oî theiò  client'ó  computers®  Purchaseò  ió 
authorizeä  tï makå aó manù copieó oæ DIRPAÔ aó arå necessarù foò 
convenience®  DIRPAÔ  maù  bå useä on‚ buô noô  copieä  onto¬  anù 
systemó noô owneä bù purchaser.

     Thå  useò  oæ DIRPAÔ ió solelù responsiblå foò  anù  oæ  itó 
uses¬  damageó  causeä  bù  bugó iî  DIRPAT¬  damageó  causeä  bù 
inappropriate¬  unauthorizeä  oò ignoranô uså oæ DIRPAT¬  anä anù 
other damages or losses related to DIRPAT or its use.


     For bug reports or comments, please write to:

     S. Kluger, 7120 Skillman#2104, Dallas TX 75231




thå  uså  oæ  DIRPAÔ  signifieó  agreemenô  tï  alì  restrictionó 
mentioned above.

"TurboDOS is a registered trademark of and (c) by Software 2000"
